<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: vegan News</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body><div class="container">

<table width="100%" summary="page for NEWS"><tr><td>NEWS</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>vegan News</h2>

<h3>Changes in version 2.6-3</h3>



<h4>NEW FEATURES</h4>


<ul>
<li> <p><code>adonis2</code> and <code>anova</code> for constrained ordination
results can perform a sequential test of one-degree-of-freedom
effects where multi-level factors are split to their
contrasts. Previously the test was available only in
<code>permutest</code>.
</p>
</li>
<li><p> New <code>summary</code> function for <code>varpart</code> for a brief
overview. The summary shows unique and overall contributed
variation for each set of variables. The fractions shared by
several sets of variables are divided equally with all
contributing sets following Lai J, Zou Y, Zhang J, Peres-Neto P
(2022). Generalizing hierarchical and variation partitioning in
multiple regression and canonical analysis using the rdacca.hp R
package. Methods in Ecology and Evolution, 13: 782&ndash;788.
</p>
</li>
<li> <p><code>decorana</code> estimates orthogonalized eigenvalues and
the total inertia (scaled Chi-square). Orthogonalized
eigenvalues can add up to the total inertia. Together these
enable implementing <code>eigenvals</code>, <code>bstick</code> and
<code>screeplot</code> methods for <code>decorana</code>.
</p>
</li>
<li><p> Implemented <code>tolerance</code> method for
<code>decorana</code>. This returns for sites the criterion that was
used in rescaling DCA, and can be used to inspect the success of
detrending: it should be constant 1 over the whole axis.
</p>
</li>
<li><p> New <code>toCoda</code> function to transform sequential null
model objects from <code>oecosimu</code> to an object that can be
analysed with <a href="https://CRAN.R-project.org/package=coda"><span class="pkg">coda</span></a> as an MCMC model. Function will
replace <code>as.mcmc.oecosimu</code> and <code>as.mcmc.permat</code>.
</p>
</li>
<li> <p><code>metaMDS</code> is more informative about finding similar
repeated results with random starts and uses less confusing
language when reporting the results.
</p>
</li>
<li><p> Hellinger distance is directly available in <code>vegdist</code>.
</p>
</li>
<li> <p><code>vegdist</code>, <code>betadiver</code> and <code>raupcrick</code> set
attribute <code>maxdist</code> giving the numeric value of theoretical
maximum of the dissimilarity index. For many dissimilarities this
is 1, but <i>sqrt(2)</i> for Chord and Hellinger
distances, for instance. The attribute is <code>NA</code> for open
indices that do not have such a ceiling. <code>betadiver</code> has
three similarity indices which set <code>maxdist</code> 0.
</p>
</li>
<li> <p><code>metaMDS</code> defaults to halfchange scaling when the
dissimilarities have a numeric <code>maxdist</code> attribute, and
adapt the threshold to the ceiling value. For open indices
without ceiling, the threshold will be in the scale of
dissimilarities. <code>metaMDS</code> used a simple test to detect
index ceiling 1, but the test is now more robust and can also
find other maximum values. If such inference is made, the
function will broadcast a message of assumed value of the
ceiling.
</p>
</li>
<li><p> Mountford index in <code>vegdist</code> is now scaled to maximum
value log(2). Earlier Mountford distances were divided by log(2)
to give maximum 1.
</p>
</li>
<li><p> The support of scores for <a href="https://CRAN.R-project.org/package=ggplot2"><span class="pkg">ggplot2</span></a> graphics is
improved and extended for ordination functions. Suitable scores
can be requested with argument <code>tidy = TRUE</code>, and in
general all available types of scores are returned in a data
frame with variable <code>score</code> labelling the type. The option
was implemented in default method of <code>scores</code> and for
structured <code>wcmdscale</code> objects, and glitches were fixed for
<code>rda</code> family and <code>decorana</code>.
</p>
</li>
<li> <p><code>hatvalues</code> of constrained ordination objects can
sometimes be practically 1 or above 1, and in these cases they
will be given as exactly 1. In those cases <code>rstandard</code>,
<code>rstudent</code> and <code>cooks.distance</code> will be
<code>NaN</code>. The behaviour is similar as in
<code>stats::lm.influence</code> functions.
</p>
</li>
<li> <p><code>as.rad</code> can handle multi-row data frames or matrices
and return a list of Rank-Abundance data for each row. Earlier
only one site was handled.
</p>
</li></ul>
 
 


<h4>BUG FIXES</h4>


<ul>
<li><p> 'scores' failed when 'metaMDS' result had no species
scores. Bug was introduced in release 2.6-2. Issue raised in
<a href="https://stackoverflow.com/questions/72483924/">https://stackoverflow.com/questions/72483924/</a>
</p>
</li></ul>
 
 


<h4>DEPRECATED AND DEFUNCT</h4>


<ul>
<li> <p><code>adonis</code> is finally deprecated. Use <code>adonis2</code>
instead.
</p>
</li>
<li> <p><code>as.mcmc.oecosimu</code> and <code>as.mcmc.permat</code> were
deprecated: these could not be used as S3 methods without
depending on <span class="pkg">coda</span> package. Use <code>toCoda</code> instead.
</p>
</li></ul>
 
 


<h3>Changes in version 2.6-2</h3>



<h4>INSTALLATION</h4>


<ul>
<li><p> Compiled code is adapted to the changes in <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> 4.2.0. See
issues
<a href="https://github.com/vegandevs/vegan/issues/447">#447</a>,
<a href="https://github.com/vegandevs/vegan/issues/507">#507</a>.
</p>
</li>
<li><p> Cross-references to function in other packages were
adapted to more stringent tests in CRAN
</p>
</li></ul>

 


<h4>NEW FEATURES</h4>


<ul>
<li><p> Aitchison and robust Aitchison distances were added to
<code>vegdist</code>. Similar data transformations were added to
<code>decostand</code>.
</p>
</li>
<li><p> Several functions can return &ldquo;tidy&rdquo; data structures
that can be used in <span class="pkg">ggplot2</span> graphics: <code>rarecurve</code>,
<code>scores</code> functions for constrained ordination (<code>cca</code>
etc.), <code>decorana</code>, <code>envfit</code>, <code>metaMDS</code>.
</p>
</li>
<li> <p><code>scores.envfit</code> gained argument
<code>arrow.mul</code>. <span class="pkg">vegan</span> <code>plot</code> functions used this
automatically, but now it is easier to use <code>envfit</code> in
non-<span class="pkg">vegan</span> plotting.
</p>
</li>
<li><p> Added function <code>simpson.unb</code> for unbiased Simpson
diversity that is more robust to the variation in sample sizes.
</p>
</li>
<li> <p><code>diversity</code> gained argument <code>group</code> to calculate
indices for pooled data. Discussed in issue
<a href="https://github.com/vegandevs/vegan/issues/393">#393</a>.
</p>
</li>
<li> <p><code>simper</code> is much faster even though parallel processing
is not implemented in the new code.
</p>
</li>
<li> <p><code>pairs</code> function was added to plot <code>permustats</code>
variables against each other.
</p>
</li>
<li> <p><code>varpart</code> accepts dissimilarities given as a
symmetric square matrix instead of <code>"dist"</code> object per wish
of issue
<a href="https://github.com/vegandevs/vegan/issues/497">#497</a>.
</p>
</li>
<li> <p><code>metaMDS</code> adopted a more user-friendly policy, and
<code>trymax</code> will always be the maximum number of tries. See
dicussion in
<a href="https://stackoverflow.com/questions/66748605/">https://stackoverflow.com/questions/66748605/</a>.
</p>
</li>
<li> <p><code>adonis2</code> accepts <code>strata</code>. <code>adonis2</code> is
the new main function that replaces old <code>adonis</code>. See issue
<a href="https://github.com/vegandevs/vegan/issues/427">#427</a>.
</p>
</li>
<li><p> Fisher alpha (<code>fisherfit</code>) is badly suited for extreme
communities that do not fit Fisher's model. Now <code>fisherfit</code>
returns <code>NA</code> to communities that have 0 or 1 species, and
issues a warning with communities consisting of singletons and
having extreme Fisher alpha.
</p>
</li>
<li> <p><code>adipart</code> and <code>multipart</code> formulae will
automatically add unique id and and constant. This will always
sandwich the requested grouping between alpha and gamma
diversities, but not change the results for requested groupings.
</p>
</li></ul>

 


<h4>BUG FIXES</h4>


<ul>
<li> <p><code>anova</code> function failed in marginal tests when
constrained partial ordination model (<code>cca</code>, <code>rda</code>
etc.) had interaction terms. Issue
<a href="https://github.com/vegandevs/vegan/issues/463">#463</a>.
</p>
</li>
<li><p> Constrained ordination (<code>cca</code> etc.) gave misleading
results when all external variables (constraints, condition)
were constant and explained nothing.
</p>
</li>
<li> <p><code>decorana</code> could fail when some axes had zero
eigenvalues.  Issue
<a href="https://github.com/vegandevs/vegan/issues/401">#401</a>.
</p>
</li>
<li><p> Species accumulation (<code>specaccum</code>) failed when there
was only one species, but several &ldquo;communities&rdquo;. Issue
<a href="https://github.com/vegandevs/vegan/issues/501">#501</a>.
</p>
</li>
<li><p> Parallel processing failed in Windows or with socket
clusters in <code>permutest</code> of <code>betadisper</code>. Issue
<a href="https://github.com/vegandevs/vegan/issues/369">#369</a>.
</p>
</li>
<li> <p><code>orditorp</code> failed if numeric labels were
supplied. Reported in
<a href="https://stackoverflow.com/questions/69272366/">https://stackoverflow.com/questions/69272366/</a>.
</p>
</li>
<li><p> Argument <code>summarize</code> was accidentally dropped from
<code>goodness.cca</code> in 2017.
</p>
</li>
<li> <p><code>taxa2dist</code> failed if there was only one usable
taxonomic level. See
<a href="https://stackoverflow.com/questions/67231431/">https://stackoverflow.com/questions/67231431/</a>.
</p>
</li></ul>

 


<h4>DEPRECATED AND DEFUNCT</h4>


<ul>
<li><p> Function <code>adonis2</code> will replace <code>adonis</code>.
</p>
</li>
<li> <p><code>humpfit</code> functions are defunct and removed. They are
available in non-CRAN package <span class="pkg">natto</span> at
<a href="https://github.com/jarioksa/natto">https://github.com/jarioksa/natto</a>.
</p>
</li>
<li> <p><code>commisimulator</code> is defunct. Use <code>simulate</code> for
<code>nullmodel</code> objects.
</p>
</li>
<li> <p><code>permuted.index</code> is finally defunct (it was
deprecated in <span class="pkg">vegan</span> 2.2-0).
</p>
</li>
<li> <p><code>as.mlm</code> is defunct. Use functions documented with
<code>influence.cca</code>, such as <code>hatvalues.cca</code>,
<code>rstandard.cca</code>, <code>rstudent.cca</code>,
<code>cooks.distance.cca</code> and others.
</p>
</li></ul>

 


<h3>Changes in version 2.5-7</h3>



<h4>BUG FIXES</h4>


<ul>
<li><p> Several distance-based functions failed if all distances
were zero (<code>betadisper</code>, <code>capscale</code>, <code>isomap</code>,
<code>monoMDS</code>, <code>pcnm</code>, <code>wcmdscale</code>). Reported in github
issue <a href="https://github.com/vegandevs/vegan/issues/372">#372</a>.
</p>
</li>
<li><p> Non-linear self-starting regression models
<code>SSarrhenius</code>, <code>SSgitay</code>, <code>SSgleason</code> and
<code>SSlomolino</code> failed in future <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span>. The failure was caused by
internal changes in <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span>-devel. Github issue
<a href="https://github.com/vegandevs/vegan/issues/382">#382</a>.
</p>
</li>
<li><p> Arrow labels were in wrong position in
<code>plot.envfit(..., add = FALSE)</code>.
</p>
</li>
<li> <p><code>rarecurve</code> added unnecessary names to the
results. Github issue
<a href="https://github.com/vegandevs/vegan/issues/352">#352</a>.
</p>
</li>
<li> <p><code>permutest</code> for <code>betadisper</code> failed in parallel
processing in Windows and in other systems when socket clusters
were used. Github issue
<a href="https://github.com/vegandevs/vegan/issues/369">#369</a>.
</p>
</li></ul>
 
 


<h4>NEW FEATURES</h4>


<ul>
<li><p> Chi-square and Chord distances were added to
<code>vegdist</code>. Both of these distances can be calculated as
Euclidean distances of transformed data, and actually were
available earlier, but many users did not notice this.
</p>
</li>
<li> <p><code>monoMDS</code> (and hence <code>metaMDS</code>) uses stricter
convergence criteria. This improves possibilities to find stable
solutions. However, users may still need to tweak convergence
criteria with their data. See discussion in Github issue
<a href="https://github.com/vegandevs/vegan/issues/354">#354</a>.
</p>
</li>
<li> <p><code>text</code> functions for constrained ordination plots
(<code>cca</code>, <code>rda</code>, <code>dbrda</code>, <code>capscale</code>) accept now
expression labels. This allows using subscripts, superscripts and
mathematical expressions. New support function <code>labels.cca</code>
returns the current text labels so that authors can change the
desired ones. See github issue
<a href="https://github.com/vegandevs/vegan/issues/374">#374</a>.
</p>
</li>
<li> <p><code>vegemite</code> returns invisibly the final formatted table
allowing further processing.
</p>
</li>
<li> <p><code>ordiplot</code> passes <code>cex</code> argument to
<code>linestack</code> and <code>decorana</code> plots.
</p>
</li></ul>
 
 


<h3>Changes in version 2.5-6</h3>



<h4>BUG FIXES</h4>


<ul>
<li> <p><code>vegdist</code> silently accepted missing values
(<code>NA</code>) and removed them from the analysis also with option
<code>na.rm = FALSE</code>. The behaviour was introduced in
<span class="pkg">vegan</span> version 2.5-1. See GitHub issue
<a href="https://github.com/vegandevs/vegan/issues/319">#319</a>.
</p>
</li>
<li><p> The labels were displaced when the bunch of arrows was not
drawn at the origin of the ordination graph in <code>envfit</code>.
See GitHub issue
<a href="https://github.com/vegandevs/vegan/issues/315">#315</a>.
</p>
</li>
<li><p> Hill scale in <code>coverscale</code> is open-ended and is not
limited to percent data, unlike most traditional cover class
scales which are undefined above 100% cover.
</p>
</li></ul>
 
 


<h4>NEW FEATURES</h4>


<ul>
<li><p> The results of <code>as.rad</code> no longer print the index
attribute: the attribute is still in the object, but printing
made the output messy.
</p>
</li></ul>
 
 


<h3>Changes in version 2.5-5</h3>



<h4>INSTALLATION</h4>


<ul>
<li> <p><span class="pkg">vegan</span> depends on <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> 3.4.0 or higher. The next
<span class="pkg">vegan</span> release may increase the dependence to <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> 3.6.0.
</p>
</li>
<li> <p><span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> 3.6.0 improved the method to find random indices for
permuting and sampling data. <span class="pkg">Vegan</span> relies now on the <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span>
functions in its ecological null models (functions
<code>nullmodel</code>, <code>oecosimu</code>, <code>commsim</code>,
<code>permatfull</code>, <code>permatswap</code> and others). Technically this
change is compatible with <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> 3.4.0 and later, but you can only
gain the benefits of improved code with a current release of
<span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span>. The null models may change due to this change, and most
certainly they change in <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> 3.6.0.  See NEWS for the <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> 3.6.0
release and discussion in github issue
<a href="https://github.com/vegandevs/vegan/issues/312">#312</a>.
</p>
<p>Most <span class="pkg">vegan</span> permutation routines rely on <a href="https://CRAN.R-project.org/package=permute"><span class="pkg">permute</span></a>,
and there you gain similar benefits of improved randomness when
you upgrade <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span>.
</p>
</li>
<li><p> Thanks to the new <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> dependence, <code>sigma</code> for
constrained ordination results works without workarounds of
<span class="pkg">vegan</span> 2.5-2. This fixes completely the issue discussed in
<a href="https://github.com/vegandevs/vegan/issues/274">#274</a>.
</p>
</li>
<li> <p><span class="pkg">Vegan</span> test results cannot be reproduced in older
versions than <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> 3.6.0. If you are worried about this, you should
upgrade <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span>.
</p>
</li></ul>
 
 


<h4>BUG FIXES</h4>


<ul>
<li> <p><code>metaMDS</code> failed in scaling results when other
<code>engine</code> than <code>monoMDS</code> was used. However, we
recommend you use <code>monoMDS</code>. See github issue
<a href="https://github.com/vegandevs/vegan/issues/310">#310</a>.
</p>
</li></ul>
 
 


<h4>NEW FEATURES</h4>


<ul>
<li> <p><code>betadisper</code> changed interpretation of negative
squared distances which give complex-valued distances. Now they
are regarded as zero-distances whereas earlier we used their
modulus. This will change the results in cases where you had
negative squared distances. For further discussion, see github
issue
<a href="https://github.com/vegandevs/vegan/issues/306">#306</a>.
</p>
</li></ul>
 
 


<h3>Changes in version 2.5-4</h3>



<h4>INSTALLATION AND TESTING</h4>


<ul>
<li><p> The code for interpreting formula will change in <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> 3.6.0,
and this makes constrained ordination methods (<code>cca</code>,
<code>rda</code>, <code>dbrda</code>, <code>capscale</code>) to fail.  See github
issue
<a href="https://github.com/vegandevs/vegan/issues/299">#299</a>.
</p>
</li>
<li> <p><span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> 3.6.0 introduces a new environment variable
<code>_R_CHECK_LENGTH_1_LOGIC2_</code>, and several functions fail if
this variable is set. Changes concern <code>ordiplot</code>,
<code>plot</code> and <code>summary</code> for constrained ordination
objects, and <code>ordixyplot</code>. See github issue
<a href="https://github.com/vegandevs/vegan/issues/305">#305</a>.
</p>
</li></ul>
 
 


<h4>BUG FIXES</h4>


<ul>
<li> <p><code>decorana</code> gave incorrect results when downweighting
was used (argument <code>iweigh = 1</code>). The bug was introduced in
<span class="pkg">vegan</span> 2.5-1 and reported as github issue
<a href="https://github.com/vegandevs/vegan/issues/303">#303</a>.
</p>
</li>
<li> <p><code>goodness</code> for constrained ordination methods failed
when the constraints had rank = 1 (only one constraining
variable). Reported by Pierre Legendre.
</p>
</li></ul>
 
 


<h4>NEW FEATURES</h4>


<ul>
<li><p> Adjusted <i>R-squared</i> is enabled for partial RDA
models (functions <code>rda</code> and <code>dbrda</code>) and partial CCA
models (function <code>cca</code>) in function <code>RsquareAdj</code>. The
feature was disabled in <span class="pkg">vegan</span> 2.5-1 for both. For RDA, the
calculation is similar as in <span class="pkg">vegan</span> 2.4-6 and
earlier. Partial CCA is now consistent with RDA and differs from
the earlier implementation. For both methods, the partial models
are consistent with <code>varpart</code>. See github issue
<a href="https://github.com/vegandevs/vegan/issues/295">#295</a>.
</p>
</li></ul>
 
 


<h3>Changes in version 2.5-3</h3>



<h4>INSTALLATION</h4>


<ul>
<li><p> Tests for numerical analysis were written more robustly so
that they give more similar results with alternative platforms and
versions of <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> and BLAS/Lapack libraries. See github issue
<a href="https://github.com/vegandevs/vegan/issues/282">#282</a>.
</p>
</li></ul>
 
 


<h4>BUG FIXES</h4>


<ul>
<li><p> Constrained ordination gave misleading results when some
constraints or conditions had data with NULL variables. This
rarely happens in normal usage, but could happen in marginal
<code>anova</code> as reported in github issue
<a href="https://github.com/vegandevs/vegan/issues/291">#291</a>.
</p>
</li>
<li><p> Several functions for numerical analysis wrongly accepted
non-numeric data (for instance, factors) and gave either
meaningless results or confusing error messages. Fixed functions
include <code>beals</code>, <code>designdist</code>, <code>diversity</code>,
<code>gdispweight</code>, <code>indpower</code>, <code>spantree</code>,
<code>specpool</code>, <code>tsallis</code>, <code>tsallisaccum</code> and
<code>vegdist</code>. See github issue
<a href="https://github.com/vegandevs/vegan/issues/292">#292</a>.
</p>
</li>
<li> <p><code>envfit</code> with vectors could fail with missing data.
</p>
</li>
<li><p> The original data were not scaled and centred similarly as
simulations in <code>simulate.rda</code> when several simulations were
returned as a <code>simmat</code> object (which is compatible with
<code>nullmodel</code> simulations and can be used in
<code>oecosimu</code>).
</p>
</li></ul>
 
 


<h4>NEW FEATURES</h4>


<ul>
<li> <p><code>anosim</code> checks its input to avoid confusing error
messages like that reported in
<a href="https://stackoverflow.com/questions/52082743/">StackOverflow
question 52082743</a>. 
</p>
</li>
<li><p> Broken-stick distribution (function <code>bstick</code>) is no
longer calculated for distance-based Redundancy Analysis
(<code>dbrda</code>) with negative eigenvalues, because it is not clear
how this should be done. Now <code>dbrda</code> and <code>capscale</code> are
similar with this respect.
</p>
</li>
<li> <p><code>print</code> function for <code>betadisper</code> results gained
new argument <code>neigen</code> to select the number of eigenvalues
shown. The <code>print</code> is more robust when the number of
eigenvalues is lower than the requested <code>neigen</code>.
</p>
</li></ul>
 
 


<h4>DEPRECATED</h4>


<ul>
<li><p> Function <code>humpfit</code> was moved to the <span class="pkg">natto</span> package
and is still available from
<a href="https://github.com/jarioksa/natto">https://github.com/jarioksa/natto</a>.  It is scheduled for
complete removal in <span class="pkg">vegan</span> 2.6-0.
</p>
</li></ul>
 
 


<h3>Changes in version 2.5-2</h3>



<h4>INSTALLATION AND COMPATIBILITY</h4>


<ul>
<li> <p><span class="pkg">Vegan</span> declares dependence on <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> version 3.2.0. This
dependence was not yet noticed in the previous <span class="pkg">vegan</span>
release. However, the generic <code>sigma</code> function was only
defined in <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span>-3.3.0, and therefore <code>sigma.cca</code> of <span class="pkg">vegan</span>
must be spelt out completely when using <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span>-3.2.x.  See discussion
in issue
<a href="https://github.com/vegandevs/vegan/issues/274">#274</a>.
</p>
</li>
<li><p> CRAN package <a href="https://CRAN.R-project.org/package=klaR"><span class="pkg">klaR</span></a> has function <code>rda</code>, and
when loaded together with <span class="pkg">vegan</span> this clashes with
<span class="pkg">vegan</span> <code>rda</code> for Redundancy Analysis. <span class="pkg">Vegan</span>
tries to mitigate the problem. In most cases <span class="pkg">vegan</span>
functions will be used if <span class="pkg">vegan</span> was loaded after
<span class="pkg">klaR</span>, and an error message is issued if <span class="pkg">klaR</span> objects
are handled with <span class="pkg">vegan</span> functions. <span class="pkg">klaR</span> is also
tricked to print an informative message if it handles
<span class="pkg">vegan</span> objects. However, <span class="pkg">vegan</span> namespace can be
attached automatically at the start-up and then <span class="pkg">klaR</span>
functions will take precedence. This was reported as issue
<a href="https://github.com/vegandevs/vegan/issues/277">#277</a>.
</p>
</li>
<li><p> Bioconductor package <span class="pkg">phyloseq</span> has a problem with
<code>vegdist</code> function for dissimilarities. The problem can be
fixed by re-installing <span class="pkg">phyloseq</span> from its <em>source
package</em>. If you cannot do this, you must either downgrade to
<span class="pkg">vegan</span> version 2.4-6 or wait till Bioconductor binary
packages are upgraded. This was reported in
<a href="https://stackoverflow.com/questions/49882886/">Stackoverflow</a>,
and as <span class="pkg">vegan</span> issue
<a href="https://github.com/vegandevs/vegan/issues/272">#272</a>,
and as <span class="pkg">phyloseq</span> issues
<a href="https://github.com/joey711/phyloseq/issues/918">#918</a> and
<a href="https://github.com/joey711/phyloseq/issues/921">#921</a>.
</p>
</li></ul>
 
 


<h4>BUG FIXES</h4>


<ul>
<li><p> Plotting <code>betadisper</code> failed if any of the
<code>groups</code> had only one member. Reported in Stackoverflow as
<a href="https://stackoverflow.com/questions/50267430/">“Error: Incorrect no.of dimensions” when plotting multivariate data in Vegan</a>.
</p>
</li>
<li><p> Permutation tests for constrained ordination
(<code>anova.cca</code>, <code>permutest.cca</code>) could fail in parallel
processing with socket clusters. Socket clusters are always used
in Windows and they can also be used in other operating systems
when created with <code>makeCluster</code>. See issue
<a href="https://github.com/vegandevs/vegan/issues/276">#276</a>.
</p>
</li></ul>
 
 


<h3>Changes in version 2.5-1</h3>



<h4>GENERAL</h4>


<ul>
<li><p> This is a major new release with changes all over the
package: Nearly 40% of program files were changed from the
previous release. Please report regressions and other issues in
<a href="https://github.com/vegandevs/vegan/issues/">https://github.com/vegandevs/vegan/issues/</a>.
</p>
</li>
<li><p> Compiled code is used much more extensively, and most
compiled functions use <code>.Call</code> interface. This gives smaller
memory footprint and is also faster. In wall clock time, the
greatest gains are in permutation tests for constrained ordination
methods (<code>anova.cca</code>) and binary null models
(<code>nullmodel</code>).
</p>
</li>
<li><p> Constrained ordination functions (<code>cca</code>, <code>rda</code>,
<code>dbrda</code>, <code>capscale</code>) are completely rewritten and share
most of their code. This makes them more consistent with each
other and more robust. The internal structure changed in
constrained ordination objects, and scripts may fail if they try
to access the result object directly. There never was a guarantee
for unchanged internal structure, and such scripts should be
changed and they should use the provided support functions to
access the result object (see documentation of <code>cca.object</code>
and github issue
<a href="https://github.com/vegandevs/vegan/issues/262">#262</a>).  Some
support and analysis functions may no longer work with result
objects created in previous <span class="pkg">vegan</span> versions. You should use
<code>update(old.result.object)</code> to fix these old result
objects. See github issues
<a href="https://github.com/vegandevs/vegan/issues/218">#218</a>,
<a href="https://github.com/vegandevs/vegan/issues/227">#227</a>.
</p>
</li>
<li> <p><span class="pkg">vegan</span> includes some tests that are run when checking
the package installation. See github issues
<a href="https://github.com/vegandevs/vegan/issues/181">#181</a>,
<a href="https://github.com/vegandevs/vegan/issues/271">#271</a>.
</p>
</li>
<li><p> The informative messages (warnings, notes and error
messages) are cleaned and unified which also makes possible to
provide translations.
</p>
</li></ul>
 
 


<h4>NEW FUNCTIONS</h4>


<ul>
<li> <p><code>avgdist</code>: new function to find averaged
dissimilarities from several random rarefactions of
communities. Code by Geoffrey Hannigan. See github issues
<a href="https://github.com/vegandevs/vegan/issues/242">#242</a>,
<a href="https://github.com/vegandevs/vegan/issues/243">#243</a>,
<a href="https://github.com/vegandevs/vegan/issues/246">#246</a>.
</p>
</li>
<li> <p><code>chaodist</code>: new function that is similar to
<code>designdist</code>, but uses Chao terms that are supposed to take
into account the effects of unseen species (Chao et al.,
<em>Ecology Letters</em> <b>8,</b> 148-159; 2005). Earlier we had
Jaccard-type Chao dissimilarity in <code>vegdist</code>, but the new
code allows defining any kind of Chao dissimilarity.
</p>
</li>
<li><p> New functions to find influence statistics of constrained
ordination objects: <code>hatvalues</code>, <code>sigma</code>,
<code>rstandard</code>, <code>rstudent</code>, <code>cooks.distance</code>,
<code>SSD</code>, <code>vcov</code>, <code>df.residual</code>. Some of these could
be earlier found via <code>as.mlm</code> function which is 
deprecated. See github issue
<a href="https://github.com/vegandevs/vegan/issues/234">#234</a>.
</p>
</li>
<li> <p><code>boxplot</code> was added for <code>permustats</code> results to
display the (standardized) effect sizes.
</p>
</li>
<li> <p><code>sppscores</code>: new function to add or replace species
scores in distance-based ordination such as <code>dbrda</code>,
<code>capscale</code> and <code>metaMDS</code>. Earlier <code>dbrda</code> did not
have species scores, and species scores in <code>capscale</code> and
<code>metaMDS</code> were based on raw input data which may not be
consistent with the used dissimilarity measure. See github issue
<a href="https://github.com/vegandevs/vegan/issues/254">#254</a>.
</p>
</li>
<li> <p><code>cutreeord</code>: new function that is similar to
<code>stats::cutree</code>, but numbers the cluster in the order they
appear in the dendrogram (left to right) instead of labelling them
in the order they appeared in the data.
</p>
</li>
<li> <p><code>sipoo.map</code>: a new data set of locations and sizes of
the islands in the Sipoo archipelago bird data set <code>sipoo</code>.
</p>
</li></ul>
 
 


<h4>NEW FEATURES IN CONSTRAINED ORDINATION</h4>


<ul>
<li><p> The inertia of Correspondence Analysis (<code>cca</code>) is 
called &ldquo;scaled Chi-square&rdquo; instead of using a name of a
little known statistic.
</p>
</li>
<li><p> If elements for Constraints and Conditions are data frames
in non-formula call of <code>rda</code> or <code>cca</code>, these are
automatically expanded to model matrices and can contain factor
variables. Earlier they had to be numerical model matrices and
factors could only be used with the formula interface.
</p>
</li>
<li><p> Regression scores for constraints can  be extracted and
plotted for constrained ordination methods. See github issue
<a href="https://github.com/vegandevs/vegan/issues/226">#226</a>.
</p>
</li>
<li><p> Full model (<code>model = "full"</code>) is again enabled in
permutations tests for constrained ordination results in
<code>anova.cca</code> and <code>permutest.cca</code>.
</p>
</li>
<li> <p><code>permutest.cca</code> gained a new option <code>by = "onedf"</code> to
perform tests by sequential one degree-of-freedom contrasts of
factors. This option is not (yet) enabled in <code>anova.cca</code>.
</p>
</li>
<li><p> The permutation tests are more robust, and most scoping issues
should have been fixed.
</p>
</li>
<li><p> Permutation tests use  compiled C code and they are much
faster. See github issue
<a href="https://github.com/vegandevs/vegan/issues/211">#211</a>.
</p>
</li>
<li> <p><code>permutest</code> printed layout is similar to <code>anova.cca</code>.
</p>
</li>
<li> <p><code>eigenvals</code> gained a new argument (<code>model</code>) to
select either constrained or unconstrained scores. The old
argument (<code>constrained</code>) is deprecated. See github issue
<a href="https://github.com/vegandevs/vegan/issues/207">#207</a>.
</p>
</li>
<li> <p><code>summary.eigenvals</code> returns a matrix instead of a
list containing only that matrix.
</p>
</li>
<li><p> Adjusted <i>R-squared</i> is not calculated for partial
ordination, because it is unclear how this should be done
(function <code>RsquareAdj</code>).
</p>
</li>
<li> <p><code>ordiresids</code> can display standardized and studentized
residuals.
</p>
</li>
<li><p> Function to construct <code>model.frame</code> and
<code>model.matrix</code> for constrained ordination are more robust
and fail in fewer cases.
</p>
</li>
<li> <p><code>goodness</code> and <code>inertcomp</code> for constrained
ordination result object no longer has an option to find
distances: only explained variation is available.
</p>
</li>
<li> <p><code>inertcomp</code> gained argument <code>unity</code>. This will
give &ldquo;local contributions to beta-diversity&rdquo; (LCBD) and
&ldquo;species contribution to beta-diversity&rdquo; (SCBD) of Legendre
&amp; De Cáceres (<em>Ecology Letters</em> <b>16,</b>
951-963; 2012).
</p>
</li>
<li> <p><code>goodness</code> is disabled for <code>capscale</code>.
</p>
</li>
<li> <p><code>prc</code> gained argument <code>const</code> for general
scaling of results similarly as in <code>rda</code>.
</p>
</li>
<li> <p><code>prc</code> uses  regression scores for Canoco-compatibility.
</p>
</li></ul>
 
 


<h4>NEW FEATURES IN NULL MODEL COMMUNITIES</h4>


<ul>
<li><p> The C code for swap-based binary null models was made more
efficients, and the models are  all faster. Many of these
models selected a <i>2x2</i> submatrix, and for this
they generated four random numbers (two rows, two columns). Now we
skip selecting third or fourth random number if it is obvious that
the matrix cannot be swapped. Since most of time was used in
generating random numbers in these functions, and most candidates
were rejected, this speeds up functions. However, this also means
that random number sequences change from previous <span class="pkg">vegan</span>
versions, and old binary model results cannot be replicated
exactly. See github issues
<a href="https://github.com/vegandevs/vegan/issues/197">#197</a>,
<a href="https://github.com/vegandevs/vegan/issues/255">#255</a> for
details and timing.
</p>
</li>
<li><p> Ecological null models (<code>nullmodel</code>, <code>simulate</code>,
<code>make.commsim</code>, <code>oecosimu</code>) gained new null model
<code>"greedyqswap"</code> which can radically speed up quasi-swap
models with minimal risk of introducing bias.
</p>
</li>
<li><p> Backtracking is written in C and it is  much faster. However,
backtracking models are biased, and they are provided only
because they are classic legacy models.
</p>
</li></ul>
 
 


<h4>NEW FEATURES IN OTHER FUNCTIONS</h4>


<ul>
<li> <p><code>adonis2</code> gained a column of <i>R-squared</i>
similarly as old <code>adonis</code>.
</p>
</li>
<li><p> Great part of <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> code for <code>decorana</code> is written in C
which makes it faster and reduces the memory footprint.
</p>
</li>
<li> <p><code>metaMDS</code> results gained new <code>points</code> and
<code>text</code> methods.
</p>
</li>
<li> <p><code>ordiplot</code> and other ordination <code>plot</code> functions
can  be chained with their <code>points</code> and <code>text</code>
functions allowing the use of <a href="https://CRAN.R-project.org/package=magrittr"><span class="pkg">magrittr</span></a> pipes.  The
<code>points</code> and <code>text</code> functions gained argument to draw
arrows allowing their use in drawing biplots or adding vectors of
environmental variables with <code>ordiplot</code>.  Since many
ordination <code>plot</code> methods return an invisible
<code>"ordiplot"</code> object, these <code>points</code> and <code>text</code>
methods also work with them. See github issue
<a href="https://github.com/vegandevs/vegan/issues/257">#257</a>.
</p>
</li>
<li><p> Lattice graphics (<code>ordixyplot</code>) for ordination can
add polygons that enclose all points in the panel and
complete data.
</p>
</li>
<li> <p><code>ordicluster</code> gained option to suppress drawing in
plots so that it can be more easily embedded in other functions
for calculations.
</p>
</li>
<li> <p><code>as.rad</code> returns the index of included taxa as an
attribute.
</p>
</li>
<li><p> Random rarefaction (function <code>rrarefy</code>) uses compiled
C code and is much faster.
</p>
</li>
<li> <p><code>plot</code> of <code>specaccum</code> can  draw short
horizontal bars to vertical error bars. See StackOverflow
question
<a href="https://stackoverflow.com/questions/45378751">45378751</a>.
</p>
</li>
<li> <p><code>decostand</code> gained new standardization methods
<code>rank</code> and <code>rrank</code> which replace abundance values by
their ranks or relative ranks. See github issue
<a href="https://github.com/vegandevs/vegan/issues/225">#225</a>.
</p>
</li>
<li><p> Clark dissimilarity was added to <code>vegdist</code> (this cannot
be calculated with <code>designdist</code>).
</p>
</li>
<li> <p><code>designdist</code> evaluates minimum terms in compiled code,
and the function is faster than <code>vegdist</code> also for
dissimilarities using minimum terms. Although <code>designdist</code> is
usually faster than <code>vegdist</code>, it is numerically less stable,
in particular with large data sets.
</p>
</li>
<li> <p><code>swan</code> passes <code>type</code> argument to <code>beals</code>.
</p>
</li>
<li> <p><code>tabasco</code> can use traditional cover scale values from
function <code>coverscale</code>. Function <code>coverscale</code> can return
scaled values as integers for numerical analysis instead of
returning characters for printing.
</p>
</li>
<li> <p><code>varpart</code> can partition <i>Chi-squared</i>
inertia of correspondence analysis with new argument
<code>chisquare</code>. The adjusted <i>R-squared</i> is based on
permutation tests, and the replicate analysis will have random
variation.
</p>
</li>
<li><p> The explanatory tables can be data frames with factors or
single factors in <code>varpart</code> and these will be automatically
expanded to model matrices. Earlier factors could only be used
with one-sided model formulae. Based on the code suggested by
Daniel Borcard, Univ. Montréal.
</p>
</li></ul>
 
 


<h4>BUG FIXES</h4>


<ul>
<li><p> Very long <code>Condition()</code> statements (&gt; 500 characters)
failed in partial constrained ordination models (<code>cca</code>,
<code>rda</code>, <code>dbrda</code>, <code>capscale</code>). The problem was
detected in StackOverflow question
<a href="https://stackoverflow.com/questions/49249816">49249816</a>.
</p>
</li>
<li><p> Labels were not adjusted when arrows were rescaled in
<code>envfit</code> plots. See StackOverflow question
<a href="https://stackoverflow.com/questions/49259747">49259747</a>.
</p>
</li>
<li> <p><code>ordiArrowMul</code> failed if there was only one arrow to
be plotted in <code>envfit</code>.
</p>
</li></ul>
 
 


<h4>DEPRECATED AND DEFUNCT</h4>


<ul>
<li> <p><code>as.mlm</code> function for constrained correspondence
analysis is deprecated in favour of new functions that directly
give the influence statistics. See github issue
<a href="https://github.com/vegandevs/vegan/issues/234">#234</a>.
</p>
</li>
<li> <p><code>commsimulator</code> is now defunct: use <code>simulate</code>
for <code>nullmodel</code> objects.
</p>
</li>
<li> <p><a href="https://CRAN.R-project.org/package=ade4"><span class="pkg">ade4</span></a> <code>cca</code> objects are no longer handled in
<span class="pkg">vegan</span>: <span class="pkg">ade4</span> has had no <code>cca</code> since version
1.7-8 (August 9, 2017).
</p>
</li></ul>
 
 


<h3>Changes in version 2.4-6</h3>



<h4>INSTALLATION AND BUILDING</h4>


<ul>
<li><p> CRAN packages are no longer allowed to use FORTRAN input,
but <code>read.cep</code> function used FORTRAN format to read legacy
CEP and Canoco files. To avoid NOTEs and WARNINGs, the function
was re-written in <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span>. The new <code>read.cep</code> is less powerful and
more fragile, and can only read data in &ldquo;condensed&rdquo; format,
and it can fail in several cases that were successful with the old
code. The old FORTRAN-based function is still available in
<a href="https://CRAN.R-project.org/package=cepreader"><span class="pkg">cepreader</span></a>.  See github issue
<a href="https://github.com/vegandevs/vegan/issues/263">#263</a>. The
<span class="pkg">cepreader</span> package is developed in
<a href="https://github.com/vegandevs/cepreader">https://github.com/vegandevs/cepreader</a>.
</p>
</li></ul>
 
 


<h4>BUG FIXES</h4>


<ul>
<li><p> Some functions for rarefaction (<code>rrarefy</code>), species
abundance distribution (<code>preston</code>) and species pool
(<code>estimateR</code>) need exact integer data, but the test allowed
small fuzz. The functions worked correctly with original data, but
if data were transformed and then back-transformed, they would
pass the integer test with fuzz and give wrong results. For
instance, <code>sqrt(3)^2</code> would pass the test as 3, but was
interpreted strictly as integer 2. See github issue
<a href="https://github.com/vegandevs/vegan/issues/259">#259</a>.
</p>
</li></ul>
 
 


<h4>NEW FEATURES</h4>


<ul>
<li> <p><code>ordiresids</code> uses now weighted residuals for
<code>cca</code> results.
</p>
</li></ul>
 
 


<h3>Changes in version 2.4-5</h3>



<h4>BUG FIXES</h4>


<ul>
<li><p> Several &ldquo;Swap &amp; Shuffle&rdquo; null models generated wrong
number of initial matrices. Usually they generated too many, which
was not dangerous, but it was slow. However, random sequences will
change with this fix.
</p>
</li>
<li><p> Lattice graphics for ordination (<code>ordixyplot</code> and
friends) colour the arrows by <code>groups</code> instead of randomly
mixed colours.
</p>
</li>
<li><p> Information on constant or mirrored permutations was
omitted when reporting permutation tests (e.g., in <code>anova</code>
for constrained ordination).
</p>
</li></ul>
 
 


<h4>NEW FEATURES</h4>


<ul>
<li> <p><code>ordistep</code> has improved interpretation of
<code>scope</code>: if the lower scope is missing, the formula of the
starting solution is taken as the lower scope instead of using
an empty model. See Stackoverflow question
<a href="https://stackoverflow.com/questions/46985029/">46985029</a>.
</p>
</li>
<li> <p><code>fitspecaccum</code> gained new support functions <code>nobs</code>
and <code>logLik</code> which allow better co-operation with other
packages and functions. See GitHub issue
<a href="https://github.com/vegandevs/vegan/issues/250">#250</a>.
</p>
</li>
<li><p> The &ldquo;backtracking&rdquo; null model for community
simulation is faster. However, &ldquo;backtracking&rdquo; is a biased
legacy model that should not be used except in comparative
studies.
</p>
</li></ul>
 
 


<h3>Changes in version 2.4-4</h3>



<h4>INSTALLATION AND BUILDING</h4>


<ul>
<li> <p><code>orditkplot</code> should no longer give warnings in CRAN
tests.
</p>
</li></ul>
 
 


<h4>BUG FIXES</h4>


<ul>
<li> <p><code>anova(..., by = "axis")</code> for constrained ordination
(<code>cca</code>, <code>rda</code>, <code>dbrda</code>) ignored partial terms in
<code>Condition()</code>.
</p>
</li>
<li> <p><code>inertcomp</code> and <code>summary.cca</code> failed if the
constrained component was defined, but explained nothing and had
zero rank. See StackOverflow:
<a href="https://stackoverflow.com/questions/43683699/">R - Error
message in doing RDA analysis - vegan package</a>.
</p>
</li>
<li><p> Labels are no longer cropped in the <code>meandist</code> plots.
</p>
</li></ul>
 
 


<h4>NEW FEATURES</h4>


<ul>
<li><p> The significance tests for the axes of constrained
ordination use now forward testing strategy. More extensive
analysis indicated that the previous marginal tests were biased.
This is in conflict with Legendre, Oksanen &amp; ter Braak,
<em>Methods Ecol Evol</em> <strong>2,</strong> 269&ndash;277 (2011) who regarded
marginal tests as unbiased.
</p>
</li>
<li><p> Canberra distance in <code>vegdist</code> can now handle negative
input entries similarly as latest versions of <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span>.
</p>
</li></ul>
 
 


<h3>Changes in version 2.4-3</h3>



<h4>INSTALLATION AND BUILDING</h4>


<ul>
<li> <p><span class="pkg">vegan</span> registers native <b>C</b> and <b>Fortran</b>
routines. This avoids warnings in model checking, and may also
give a small gain in speed.
</p>
</li>
<li><p> Future versions of <span class="pkg">vegan</span> will deprecate and remove
elements <code>pCCA$Fit</code>, <code>CCA$Xbar</code>, and <code>CA$Xbar</code>
from <code>cca</code> result objects. This release provides a new
function <code>ordiYbar</code> which is able to construct these
elements both from the current and future releases. Scripts and
functions directly accessing these elements should switch to
<code>ordiYbar</code> for smooth transition.
</p>
</li></ul>
 
 


<h4>BUG FIXES</h4>


<ul>
<li> <p><code>as.mlm</code> methods for constrained ordination include
zero intercept to give the correct residual degrees of freedom for
derived statistics.
</p>
</li>
<li> <p><code>biplot</code> method for <code>rda</code> passes
<code>correlation</code> argument to the scaling algorithm.
</p>
</li>
<li><p> Biplot scores were wrongly centred in <code>cca</code> which
caused a small error in their values.
</p>
</li>
<li><p> Weighting and centring were corrected in <code>intersetcor</code>
and <code>spenvcor</code>. The fix can make a small difference when
analysing <code>cca</code> results.
</p>
<p>Partial models were not correctly handled in <code>intersetcor</code>.
</p>
</li>
<li> <p><code>envfit</code> and <code>ordisurf</code> functions failed when
applied to species scores.
</p>
</li>
<li><p> Non-standard variable names can be used within
<code>Condition()</code> in partial ordination.  Partial models are used
internally within several functions, and a problem was reported by
Albin Meyer (Univ Lorraine, Metz, France) in <code>ordiR2step</code>
when using a variable name that contained a hyphen (which was
wrongly interpreted as a minus sign in partial ordination).
</p>
</li>
<li> <p><code>ordispider</code> did not pass graphical arguments when
used to show the difference of LC and WA scores in constrained
ordination.
</p>
</li>
<li> <p><code>ordiR2step</code> uses only <code>forward</code> selection to
avoid several problems in model evaluation.
</p>
</li>
<li> <p><code>tolerance</code> function could return <code>NaN</code> in some
cases when it should have returned <i>0</i>. Partial models were
not correctly analysed. Misleading (non-zero) tolerances were
sometimes given for species that occurred only once or sampling
units that had only one species.
</p>
</li></ul>
 
 


<h3>Changes in version 2.4-2</h3>



<h4>BUG FIXES</h4>


<ul>
<li><p> Permutation tests (<code>permutests</code>, <code>anova</code>) for the
first axis failed in constrained distance-based ordination
(<code>dbrda</code>, <code>capscale</code>). Now <code>capscale</code> will also
throw away negative eigenvalues when first eigenvalues are
tested. All permutation tests for the first axis are now
faster. The problem was reported by Cleo Tebby and the fixes are
discussed in GitHub issue
<a href="https://github.com/vegandevs/vegan/issues/198">#198</a> and
pull request
<a href="https://github.com/vegandevs/vegan/pull/199">#199</a>.
</p>
</li>
<li><p> Some support functions for <code>dbrda</code> or <code>capscale</code>
gave results or some of their components in wrong scale. Fixes in
<code>stressplot</code>, <code>simulate</code>, <code>predict</code> and
<code>fitted</code> functions.
</p>
</li>
<li> <p><code>intersetcor</code> did not use correct weighting for
<code>cca</code> and the results were slightly off.
</p>
</li>
<li> <p><code>anova</code> and <code>permutest</code> failed when
<code>betadisper</code> was fitted with argument
<code>bias.adjust = TRUE</code>. Fixes Github issue
<a href="https://github.com/vegandevs/vegan/issues/219">#219</a>
reported by Ross Cunning, O'ahu, Hawaii.
</p>
</li>
<li> <p><code>ordicluster</code> should return invisibly only the
coordinates of internal points (where clusters or points are
joined), but last rows contained coordinates of external points
(ordination scores of points).
</p>
</li>
<li><p> The <code>cca</code> method of <code>tolerance</code> was returning
incorrect values for all but the second axis for sample
heterogeneities and species tolerances. See issue 
<a href="https://github.com/vegandevs/vegan/issues/216">#216</a> for
details.
</p>
</li></ul>
 
 


<h4>NEW FEATURES</h4>


<ul>
<li><p> Biplot scores are scaled similarly as site scores in
constrained ordination methods <code>cca</code>, <code>rda</code>,
<code>capscale</code> and <code>dbrda</code>. Earlier they were unscaled (or
more technically, had equal scaling on all axes).
</p>
</li>
<li> <p><code>tabasco</code> adds argument to <code>scale</code> the colours
by rows or columns in addition to the old equal scale over the
whole plot. New arguments <code>labRow</code> and <code>labCex</code> can be
used to change the column or row labels. Function also takes
care that only above-zero observations are coloured: earlier
tiny observed values were merged to zeros and were not distinct
in the plots.
</p>
</li>
<li><p> Sequential null models are somewhat faster (up to
10%). Non-sequential null models may be marginally faster. These
null models are generated by function <code>nullmodel</code> and also
used in <code>oecosimu</code>.
</p>
</li>
<li> <p><code>vegdist</code> is much faster. It used to be clearly slower
than <code>stats::dist</code>, but now it is nearly equally fast for the
same dissimilarity measure.
</p>
</li>
<li><p> Handling of <code>data=</code> in formula interface is more
robust, and messages on user errors are improved. This fixes
points raised in Github issue
<a href="https://github.com/vegandevs/vegan/issues/200">#200</a>.
</p>
</li>
<li><p> The families and orders in <code>dune.taxon</code> were updated to
APG IV (<em>Bot J Linnean Soc</em> <strong>181,</strong> 1&ndash;20; 2016) and a
corresponding classification for higher levels (Chase &amp; Reveal,
<em>Bot J Linnean Soc</em> <strong>161,</strong> 122-127; 2009).
</p>
</li></ul>
 
 


<h3>Changes in version 2.4-1</h3>



<h4>INSTALLATION</h4>


<ul>
<li><p> Fortran code was modernized to avoid warnings in latest
<span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span>. The modernization should have no visible effect in
functions. Please report all suspect cases as
<a href="https://github.com/vegandevs/vegan/issues/">vegan issues</a>.
</p>
</li></ul>
 
 


<h4>BUG FIXES</h4>


<ul>
<li><p> Several support functions for ordination methods failed if
the solution had only one ordination axis, for instance, if
there was only one constraining variable in CCA, RDA and
friends. This concerned <code>goodness</code> for constrained
ordination, <code>inertcomp</code>, <code>fitted</code> for
<code>capscale</code>, <code>stressplot</code> for RDA, CCA (GitHub issue
<a href="https://github.com/vegandevs/vegan/issues/189">#189</a>).
</p>
</li>
<li> <p><code>goodness</code> for CCA &amp; friends ignored <code>choices</code>
argument (GitHub issue
<a href="https://github.com/vegandevs/vegan/issues/190">#190</a>).
</p>
</li>
<li> <p><code>goodness</code> function did not consider negative
eigenvalues of db-RDA (function <code>dbrda</code>).
</p>
</li>
<li><p> Function <code>meandist</code> failed in some cases when one of
the groups had only one observation.
</p>
</li>
<li> <p><code>linestack</code> could not handle expressions in
<code>labels</code>. This regression is discussed in GitHub issue
<a href="https://github.com/vegandevs/vegan/issues/195">#195</a>.
</p>
</li>
<li><p> Nestedness measures <code>nestedbetajac</code> and
<code>nestedbetasor</code> expecting binary data did not cope with
quantitative input in evaluating Baselga's matrix-wide Jaccard
or Sørensen dissimilarity indices.
</p>
</li>
<li><p> Function <code>as.mcmc</code> to cast <code>oecosimu</code> result to an
MCMC object (<a href="https://CRAN.R-project.org/package=coda"><span class="pkg">coda</span></a> package) failed if there was only one
chain.
</p>
</li></ul>
 
 


<h4>NEW FEATURES</h4>


<ul>
<li> <p><code>diversity</code> function returns now <code>NA</code> if the
observation had <code>NA</code> values instead of returning
<code>0</code>. The function also checks the input and refuses to
handle data with negative values.  GitHub issue
<a href="https://github.com/vegandevs/vegan/issues/187">#187</a>.
</p>
</li>
<li> <p><code>rarefy</code> function will work more robustly in marginal
case when the user asks for only one individual which can only
be one species with zero variance.
</p>
</li>
<li><p> Several functions are more robust if their factor arguments
contain missing values (<code>NA</code>): <code>betadisper</code>,
<code>adipart</code>, <code>multipart</code>, <code>hiersimu</code>, <code>envfit</code>
and constrained ordination methods <code>cca</code>, <code>rda</code>,
<code>capscale</code> and <code>dbrda</code>. GitHub issues
<a href="https://github.com/vegandevs/vegan/issues/192">#192</a> and
<a href="https://github.com/vegandevs/vegan/issues/193">#193</a>.
</p>
</li></ul>
 
 


<h3>Changes in version 2.4-0</h3>



<h4>DISTANCE-BASED ANALYSIS</h4>


<ul>
<li><p> Distance-based methods were redesigned and made
consistent for ordination (<code>capscale</code>, new <code>dbrda</code>),
permutational ANOVA (<code>adonis</code>, new <code>adonis2</code>),
multivariate dispersion (<code>betadisper</code>) and variation
partitioning (<code>varpart</code>).  These methods can produce
negative eigenvalues with several popular semimetric
dissimilarity indices, and they were not handled similarly by
all functions. Now all functions are designed after McArdle &amp;
Anderson (<em>Ecology</em> 82, 290&ndash;297; 2001).
</p>
</li>
<li> <p><code>dbrda</code> is a new function for distance-based
Redundancy Analysis following McArdle &amp; Anderson
(<em>Ecology</em> 82, 290&ndash;297; 2001). With metric
dissimilarities, the function is equivalent to old
<code>capscale</code>, but negative eigenvalues of semimetric indices
are handled differently. In <code>dbrda</code> the dissimilarities
are decomposed directly into conditions, constraints and
residuals with their negative eigenvalues, and any of the
components can have imaginary dimensions. Function is mostly
compatible with <code>capscale</code> and other constrained
ordination methods, but full compatibility cannot be achieved
(see issue
<a href="https://github.com/vegandevs/vegan/issues/140">#140</a> in
Github). The function is based on the code by Pierre Legendre.
</p>
</li>
<li><p> The old <code>capscale</code> function for constrained
ordination is still based only on real components, but the
total inertia of the components is assessed similarly as in
<code>dbrda</code>.
</p>
<p>The significance tests will differ from the previous version,
but function <code>oldCapscale</code> will cast the <code>capscale</code>
result to a similar form as previously.
</p>
</li>
<li> <p><code>adonis2</code> is a new function for permutational ANOVA
of dissimilarities. It is based on the same algorithm as the
<code>dbrda</code>. The function can perform overall tests of all
independent variables as well as sequential and marginal tests
of each term. The old <code>adonis</code> is still available, but it
can only perform sequential tests. With same settings,
<code>adonis</code> and <code>adonis2</code> give identical results (but
see Github issue
<a href="https://github.com/vegandevs/vegan/issues/156">#156</a> for
differences).
</p>
</li>
<li><p> Function <code>varpart</code> can partition dissimilarities
using the same algorithm as <code>dbrda</code>.
</p>
</li>
<li><p> Argument <code>sqrt.dist</code> takes square roots of
dissimilarities and these can change many popular semimetric
indices to metric distances in <code>capscale</code>, <code>dbrda</code>,
<code>wcmdscale</code>, <code>adonis2</code>, <code>varpart</code> and
<code>betadisper</code> (issue
<a href="https://github.com/vegandevs/vegan/issues/179">#179</a> in
Github).
</p>
</li>
<li><p> Lingoes and Cailliez adjustments change any dissimilarity
into metric distance in <code>capscale</code>, <code>dbrda</code>,
<code>adonis2</code>, <code>varpart</code>, <code>betadisper</code> and
<code>wcmdscale</code>.  Earlier we had only Cailliez adjustment in
<code>capscale</code> (issue
<a href="https://github.com/vegandevs/vegan/issues/179">#179</a> in
Github).
</p>
</li>
<li> <p><code>RsquareAdj</code> works with <code>capscale</code> and
<code>dbrda</code> and this allows using <code>ordiR2step</code> in model
building.
</p>
</li></ul>
 
 


<h4>BUG FIXES</h4>


<ul>
<li> <p><code>specaccum</code>: <code>plot</code> failed if line type
(<code>lty</code>) was given. Reported by Lila Nath Sharma (Univ
Bergen, Norway)
</p>
</li></ul>
 
 


<h4>NEW FUNCTIONS</h4>


<ul>
<li> <p><code>ordibar</code> is a new function to draw crosses of
standard deviations or standard errors in ordination diagrams
instead of corresponding ellipses.
</p>
</li>
<li><p> Several <code>permustats</code> results can be combined with a
new <code>c()</code> function.
</p>
</li>
<li><p> New function <code>smbind</code> binds together null models by
row, column or replication. If sequential models are bound
together, they can be treated as parallel chains in subsequent
analysis (e.g., after <code>as.mcmc</code>). See issue
<a href="https://github.com/vegandevs/vegan/issues/164">#164</a> in
Github.
</p>
</li></ul>
 
 


<h4>NEW FEATURES</h4>


<ul>
<li><p> Null model analysis was upgraded:
</p>
<p>New <code>"curveball"</code> algorithm provides a fast null model with
fixed row and column sums for binary matrices after Strona et
al. (<em>Nature Commun.</em> 5: 4114; 2014).
</p>
<p>The <code>"quasiswap"</code> algorithm gained argument <code>thin</code>
which can reduce the bias of null models.
</p>
<p><code>"backtracking"</code> is now much faster, but it is still very
slow, and provided mainly to allow comparison against better and
faster methods.
</p>
<p>Compiled code can now be interrupted in null model simulations.
</p>
</li>
<li> <p><code>designdist</code> can now use beta diversity notation
(<code>gamma</code>, <code>alpha</code>) for easier definition of beta
diversity indices.
</p>
</li>
<li> <p><code>metaMDS</code> has new iteration strategy: Argument
<code>try</code> gives the minimum number of random starts, and
<code>trymax</code> the maximum number. Earlier we only hand
<code>try</code> which gave the maximum number, but now we run at
least <code>try</code> times. This reduces the risk of being trapped
in a local optimum (issue
<a href="https://github.com/vegandevs/vegan/issues/154">#154</a> in
Github).
</p>
<p>If there were no convergent solutions, <code>metaMDS</code> will now
tabulate stopping criteria (if <code>trace = TRUE</code>).  This can
help in deciding if any of the criteria should be made more
stringent or the number of iterations increased. The
documentation for <code>monoMDS</code> and <code>metaMDS</code> give more
detailed information on convergence criteria.
</p>
</li>
<li><p> The <code>summary</code> of <code>permustats</code> prints now
<em>P</em>-values, and the test direction (<code>alternative</code>) can
be changed.
</p>
<p>The <code>qqmath</code> function of <code>permustats</code> can now plot
standardized statistics. This is a partial solution to issue
<a href="https://github.com/vegandevs/vegan/issues/172">#172</a> in
Github.
</p>
</li>
<li> <p><code>MDSrotate</code> can rotate ordination to show maximum
separation of factor levels (classes) using linear discriminant
analysis (<code>lda</code> in <a href="https://CRAN.R-project.org/package=MASS"><span class="pkg">MASS</span></a> package).
</p>
</li>
<li> <p><code>adipart</code>, <code>hiersimu</code> and <code>multipart</code>
expose argument <code>method</code> to specify the null model.
</p>
</li>
<li> <p><code>RsquareAdj</code> works with <code>cca</code> and this allows
using <code>ordiR2step</code> in model building. The code was
developed by Dan McGlinn (issue
<a href="https://github.com/vegandevs/vegan/issues/161">#161</a> in
Github). However, <code>cca</code> still cannot be used in
<code>varpart</code>.
</p>
</li>
<li> <p><code>ordiellipse</code> and <code>ordihull</code> allow setting
colours, line types and other graphical parameters.
</p>
<p>The alpha channel can now be given also as a real number in 0 ... 1
in addition to integer 0 ... 255.
</p>
</li>
<li> <p><code>ordiellipse</code> can now draw ellipsoid hulls that
enclose points in a group.
</p>
</li>
<li> <p><code>ordicluster</code>, <code>ordisegments</code>, <code>ordispider</code>
and <code>lines</code> and <code>plot</code> functions for <code>isomap</code> and
<code>spantree</code> can use a mixture of colours of connected
points. Their behaviour is similar as in analogous functions in
the the <a href="https://CRAN.R-project.org/package=vegan3d"><span class="pkg">vegan3d</span></a> package.
</p>
</li>
<li> <p><code>plot</code> of <code>betadisper</code> is more configurable. See
issues
<a href="https://github.com/vegandevs/vegan/issues/128">#128</a> and
<a href="https://github.com/vegandevs/vegan/issues/166">#166</a> in
Github for details.
</p>
</li>
<li> <p><code>text</code> and <code>points</code> methods for
<code>orditkplot</code> respect stored graphical parameters.
</p>
</li>
<li><p> Environmental data for the Barro Colorado Island forest
plots gained new variables from Harms et al. (<em>J. Ecol.</em> 89,
947&ndash;959; 2001). Issue
<a href="https://github.com/vegandevs/vegan/issues/178">#178</a> in
Github.
</p>
</li></ul>
 
 


<h4>DEPRECATED AND DEFUNCT</h4>


<ul>
<li><p> Function <code>metaMDSrotate</code> was removed and replaced
with <code>MDSrotate</code>.
</p>
</li>
<li> <p><code>density</code> and <code>densityplot</code> methods for
various <span class="pkg">vegan</span> objects were deprecated and replaced with
<code>density</code> and <code>densityplot</code> for <code>permustats</code>.
Function <code>permustats</code> can extract the permutation and
simulation results of <span class="pkg">vegan</span> result objects.
</p>
</li></ul>
 
 


<h3>Changes in version 2.3-5</h3>



<h4>BUG FIXES</h4>


<ul>
<li> <p><code>eigenvals</code> fails with <code>prcomp</code> results in
<span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span>-devel. The next version of <code>prcomp</code> will have an
argument to limit the number of eigenvalues shown
(<code>rank.</code>), and this breaks <code>eigenvals</code> in <span class="pkg">vegan</span>.
</p>
</li>
<li> <p><code>calibrate</code> failed for <code>cca</code> and friends if
<code>rank</code> was given.
</p>
</li></ul>
 
 


<h3>Changes in version 2.3-4</h3>



<h4>BUG FIXES</h4>


<ul>
<li> <p><code>betadiver</code> index <code>19</code> had wrong sign in one of
its terms.
</p>
</li>
<li> <p><code>linestack</code> failed when the <code>labels</code> were given,
but the input scores had no names. Reported by Jeff Wood (ANU,
Canberra, ACT).
</p>
</li></ul>
 
 


<h4>DEPRECATED</h4>


<ul>
<li> <p><code>vegandocs</code> is deprecated. Current <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> provides better
tools for seeing extra documentation (<code>news()</code> and
<code>browseVignettes()</code>).
</p>
</li></ul>
 
 


<h4>VIGNETTES</h4>


<ul>
<li><p> All vignettes are built with standard <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> tools and can be
browsed with <code>browseVignettes</code>. <code>FAQ-vegan</code> and
<code>partitioning</code> were only accessible with <code>vegandocs</code>
function.
</p>
</li></ul>
 
 


<h4>BUILDING</h4>


<ul>
<li><p> Dependence on external software <code>texi2dvi</code> was
removed. Version 6.1 of <code>texi2dvi</code> was incompatible with <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span>
and prevented building <span class="pkg">vegan</span>. The <code>FAQ-vegan</code> that was
earlier built with <code>texi2dvi</code> uses now <a href="https://CRAN.R-project.org/package=knitr"><span class="pkg">knitr</span></a>. Because
of this, <span class="pkg">vegan</span> is now dependent on <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span>-3.0.0.  Fixes issue
<a href="https://github.com/vegandevs/vegan/issues/158">#158</a> in
Github.
</p>
</li></ul>
 
 


<h3>Changes in version 2.3-3</h3>



<h4>BUG FIXES</h4>


<ul>
<li> <p><code>metaMDS</code> and <code>monoMDS</code> could fail if input
dissimilarities were huge: in the reported case they were of
magnitude 1E85. Fixes issue
<a href="https://github.com/vegandevs/vegan/issues/152">#152</a> in
Github.
</p>
</li>
<li><p> Permutations failed if they were defined as <a href="https://CRAN.R-project.org/package=permute"><span class="pkg">permute</span></a>
control structures in <code>estaccum</code>, <code>ordiareatest</code>,
<code>renyiaccum</code> and <code>tsallisaccum</code>. Reported by Dan
Gafta (Cluj-Napoca) for <code>renyiaccum</code>.
</p>
</li>
<li> <p><code>rarefy</code> gave false warnings if input was a vector
or a single sampling unit.
</p>
</li>
<li><p> Some extrapolated richness indices in <code>specpool</code>
needed the number of doubletons (= number of species occurring
in two sampling units), and these failed when only one sampling
unit was supplied.  The extrapolated richness cannot be
estimated from a single sampling unit, but now such cases are
handled smoothly instead of failing: observed non-extrapolated
richness with zero standard error will be reported. The issue
was reported in
<a href="https://stackoverflow.com/questions/34027496/">StackOverflow</a>.
</p>
</li></ul>
 
 


<h4>NEW FEATURES</h4>


<ul>
<li> <p><code>treedist</code> and <code>treedive</code> refuse to handle
trees with reversals, i.e, higher levels are more homogeneous
than lower levels. Function <code>treeheight</code> will estimate
their total height with absolute values of branch
lengths. Function <code>treedive</code> refuses to handle trees with
negative branch heights indicating negative
dissimilarities. Function <code>treedive</code> is faster.
</p>
</li>
<li> <p><code>gdispweight</code> works when input data are in a matrix
instead of a data frame.
</p>
</li>
<li><p> Input dissimilarities supplied in symmetric matrices or
data frames are more robustly recognized by <code>anosim</code>,
<code>bioenv</code> and <code>mrpp</code>.
</p>
</li></ul>
 
 


<h3>Changes in version 2.3-2</h3>



<h4>BUG FIXES</h4>


<ul>
<li><p> Printing details of a gridded permutation design would fail
when the grid was at the within-plot level.
</p>
</li>
<li> <p><code>ordicluster</code> joined the branches at wrong coordinates
in some cases.
</p>
</li>
<li> <p><code>ordiellipse</code> ignored weights when calculating standard
errors (<code>kind = "se"</code>). This influenced plots of <code>cca</code>,
and also influenced <code>ordiareatest</code>.
</p>
</li></ul>
 
 


<h4>NEW FEATURES</h4>


<ul>
<li> <p><code>adonis</code> and <code>capscale</code> functions recognize
symmetric square matrices as dissimilarities. Formerly
dissimilarities had to be given as <code>"dist"</code> objects such as
produced by <code>dist</code> or <code>vegdist</code> functions, and data
frames and matrices were regarded as observations x variables
data which could confuse users (e.g., issue
<a href="https://github.com/vegandevs/vegan/issues/147">#147</a>).
</p>
</li>
<li> <p><code>mso</code> accepts <code>"dist"</code> objects for the distances
among locations as an alternative to coordinates of locations.
</p>
</li>
<li> <p><code>text</code>, <code>points</code> and <code>lines</code> functions for
<code>procrustes</code> analysis gained new argument <code>truemean</code>
which allows adding <code>procrustes</code> items to the plots of
original analysis.
</p>
</li>
<li> <p><code>rrarefy</code> returns observed non-rarefied communities
(with a warning) when users request subsamples that are larger
than the observed community instead of failing. Function
<code>drarefy</code> has been similar and returned sampling
probabilities of 1, but now it also issues a warning. Fixes issue
<a href="https://github.com/vegandevs/vegan/issues/144">#144</a> in
Github.
</p>
</li></ul>
 
 


<h3>Changes in version 2.3-1</h3>



<h4>BUG FIXES</h4>


<ul>
<li><p> Permutation tests did not always correctly recognize ties
with the observed statistic and this could result in too low
<i>P</i>-values. This would happen in particular when all predictor
variables were factors (classes). The changes concern functions
<code>adonis</code>, <code>anosim</code>, <code>anova</code> and <code>permutest</code>
functions for <code>cca</code>, <code>rda</code> and <code>capscale</code>,
<code>permutest</code> for <code>betadisper</code>, <code>envfit</code>,
<code>mantel</code> and <code>mantel.partial</code>, <code>mrpp</code>, <code>mso</code>,
<code>oecosimu</code>, <code>ordiareatest</code>, <code>protest</code> and
<code>simper</code>. This also fixes issues
<a href="https://github.com/vegandevs/vegan/issues/120">#120</a> and
<a href="https://github.com/vegandevs/vegan/issues/132">#132</a> in
GitHub.
</p>
</li>
<li><p> Automated model building in constrained ordination
(<code>cca</code>, <code>rda</code>, <code>capscale</code>) with <code>step</code>,
<code>ordistep</code> and <code>ordiR2step</code> could fail if there were
aliased candidate variables, or constraints that were completely
explained by other variables already in the model. This was a
regression introduced in <span class="pkg">vegan</span> 2.2-0.
</p>
</li>
<li><p> Constrained ordination methods <code>cca</code>, <code>rda</code> and
<code>capscale</code> treat character variables as factors in analysis,
but did not return their centroids for plotting.
</p>
</li>
<li><p> Recovery of original data in <code>metaMDS</code> when computing
WA scores for species would fail if the expression supplied to
argument <code>comm</code> was long &amp; got deparsed to multiple
strings. <code>metaMDSdist</code> now returns the (possibly modified)
data frame of community data <code>comm</code> as attribute
<code>"comm"</code> of the returned <code>dist</code> object. <code>metaMDS</code>
now uses this to compute the WA species scores for the NMDS. In
addition, the deparsed expression for <code>comm</code> is now robust to
long expressions.  Reported by Richard Telford.
</p>
</li>
<li> <p><code>metaMDS</code> and <code>monoMDS</code> rejected dissimilarities
with missing values.
</p>
</li>
<li><p> Function <code>rarecurve</code> did not check its input and this
could cause confusing error messages. Now function checks that
input data are integers that can be interpreted as counts on
individuals and all sampling units have some species. Unchecked
bad inputs were the reason for problems reported in
<a href="https://stackoverflow.com/questions/30856909/">Stackoverflow</a>.
</p>
</li></ul>

 


<h4>NEW FEATURES AND FUNCTIONS</h4>


<ul>
<li><p> Scaling of ordination axes in <code>cca</code>, <code>rda</code> and
<code>capscale</code> can now be expressed with descriptive strings
<code>"none"</code>, <code>"sites"</code>, <code>"species"</code> or
<code>"symmetric"</code> to tell which kind of scores should be scaled by
eigenvalues. These can be further modified with arguments
<code>hill</code> in <code>cca</code> and <code>correlation</code> in <code>rda</code>. The
old numeric scaling can still be used.
</p>
</li>
<li><p> The permutation data can be extracted from <code>anova</code>
results of constrained ordination (<code>cca</code>, <code>rda</code>,
<code>capscale</code>) and further analysed with <code>permustats</code>
function.
</p>
</li>
<li><p> New data set <code>BCI.env</code> of site information for the Barro
Colorado Island tree community data. Most useful variables are the
UTM coordinates of sample plots. Other variables are constant or
nearly constant and of little use in normal analysis.
</p>
</li></ul>

 


<h3>Changes in version 2.3-0</h3>



<h4>BUG FIXES</h4>


<ul>
<li><p> Constrained ordination functions <code>cca</code>, <code>rda</code> and
<code>capscale</code> are now more robust. Scoping of data set names and
variable names is much improved. This should fix numerous
long-standing problems, for instance those reported by Benedicte
Bachelot (in email) and Richard Telford (in Twitter), as well as
issues <a href="https://github.com/vegandevs/vegan/issues/16">#16</a>
and <a href="https://github.com/vegandevs/vegan/issues/100">#100</a> in
GitHub.
</p>
</li>
<li><p> Ordination functions <code>cca</code> and <code>rda</code> silently
accepted dissimilarities as input although their analysis makes
no sense with these methods. Dissimilarities should be analysed
with distance-based redundancy analysis (<code>capscale</code>).
</p>
</li>
<li><p> The variance of the conditional component was over-estimated
in <code>goodness</code> of <code>rda</code> results, and results were wrong
for partial RDA. The problems were reported in an
<a href="https://stat.ethz.ch/pipermail/r-sig-ecology/2015-March/004936.html">R-sig-ecology</a>
message by Christoph von Redwitz.
</p>
</li></ul>

 


<h4>WINDOWS</h4>


<ul>
<li> <p><code>orditkplot</code> did not add file type identifier to saved
graphics in Windows although that is required. The problem only
concerned Windows OS.
</p>
</li></ul>

 


<h4>NEW FEATURES AND FUNCTIONS</h4>


<ul>
<li> <p><code>goodness</code> function for constrained ordination
(<code>cca</code>, <code>rda</code>, <code>capscale</code>) was redesigned. Function
gained argument <code>addprevious</code> to add the variation explained
by previous ordination components to axes when <code>statistic =
      "explained"</code>. With this option, <code>model = "CCA"</code> will include
the variation explained by partialled-out conditions, and
<code>model = "CA"</code> will include the accumulated variation
explained by conditions and constraints. The former behaviour was
<code>addprevious = TRUE</code> for <code>model = "CCA"</code>, and
<code>addprevious = FALSE</code> for <code>model = "CA"</code>. The argument
will have no effect when <code>statistic = "distance"</code>, but this
will always show the residual distance after all previous
components. Formerly it displayed the residual distance only for
the currently analysed model.
</p>
</li>
<li><p> Functions <code>ordiArrowMul</code> and <code>ordiArrowTextXY</code> are
exported and can be used in normal interactive sessions. These
functions are used to scale a bunch arrows to fit ordination
graphics, and formerly they were internal functions used within
other <span class="pkg">vegan</span> functions.
</p>
</li>
<li> <p><code>orditkplot</code> can export graphics in SVG format. SVG is
a vector graphics format which can be edited with several external
programs, such as Illustrator and Inkscape.
</p>
</li>
<li><p> Rarefaction curve (<code>rarecurve</code>) and species
accumulation models (<code>specaccum</code>, <code>fitspecaccum</code>)
gained new functions to estimate the slope of curve at given
location. Originally this was based on a response to an
<a href="https://stat.ethz.ch/pipermail/r-sig-ecology/2015-May/005038.html">R-SIG-ecology</a>
query. For rarefaction curves, the function is <code>rareslope</code>,
and for species accumulation models it is <code>specslope</code>.
</p>
<p>The functions are based on analytic equations, and can also be
evaluated at interpolated non-integer values. In
<code>specaccum</code> models the functions can be only evaluated for
analytic models <code>"exact"</code>, <code>"rarefaction"</code> and
<code>"coleman"</code>. With <code>"random"</code> and <code>"collector"</code>
methods you can only use finite differences
(<code>diff(fitted(&lt;result.object&gt;))</code>). Analytic functions for
slope are used for all non-linear regression models known to
<code>fitspecaccum</code>.
</p>
</li>
<li><p> Species accumulation models (<code>specaccum</code>) and
non-liner regression models for species accumulation
(<code>fitspecaccum</code>) work more consistently with weights. In
all cases, the models are defined using the number of sites as
independent variable, which with weights means that observations
can be non-integer numbers of virtual sites. The <code>predict</code>
models also use the number of sites with <code>newdata</code>,
and for analytic models they can estimate the expected values
for non-integer number of sites, and for non-analytic randomized
or collector models they can interpolate on non-integer values.
</p>
</li>
<li> <p><code>fitspecaccum</code> gained support functions <code>AIC</code>
and <code>deviance</code>.
</p>
</li>
<li><p> The <code>varpart</code> plots of four-component models were
redesigned following Legendre, Borcard &amp; Roberts <em>Ecology</em>
93, 1234&ndash;1240 (2012), and they use now four ellipses instead of
three circles and two rectangles. The components are now labelled
in plots, and the circles and ellipses can be easily filled with
transparent background colour.
</p>
</li></ul>

 


<h3>Changes in version 2.2-1</h3>



<h4>GENERAL</h4>


<ul>
<li><p> This is a maintenance release to avoid warning messages
caused by changes in CRAN repository. The namespace usage is also
more stringent to avoid warnings and notes in development versions
of <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span>.
</p>
</li></ul>




<h4>INSTALLATION</h4>


<ul>
<li> <p><span class="pkg">vegan</span> can be installed and loaded without <span class="pkg">tcltk</span>
package. The <span class="pkg">tcltk</span> package is needed in <code>orditkplot</code>
function for interactive editing of ordination graphics.
</p>
</li></ul>

 


<h4>BUG FIXES</h4>


<ul>
<li> <p><code>ordisurf</code> failed if <a href="https://CRAN.R-project.org/package=gam"><span class="pkg">gam</span></a> package was loaded due
to namespace issues: some support functions of <span class="pkg">gam</span> were used
instead of <a href="https://CRAN.R-project.org/package=mgcv"><span class="pkg">mgcv</span></a> functions.
</p>
</li>
<li> <p><code>tolerance</code> function failed for unconstrained
correspondence analysis.
</p>
</li></ul>

 


<h4>NEW FEATURES</h4>


<ul>
<li> <p><code>estimateR</code> uses a more exact variance formula for
bias-corrected Chao estimate of extrapolated number of
species. The new formula may be unpublished, but it was derived
following the guidelines of Chiu, Wang, Walther &amp; Chao,
<em>Biometrics</em> 70, 671&ndash;682 (2014), doi: <a href="https://doi.org/10.1111/biom.12200">10.1111/biom.12200</a>,
online supplementary material.
</p>
</li>
<li><p> Diversity accumulation functions <code>specaccum</code>,
<code>renyiaccum</code>, <code>tsallisaccum</code>, <code>poolaccum</code> and
<code>estaccumR</code> use now <a href="https://CRAN.R-project.org/package=permute"><span class="pkg">permute</span></a> package for permutations
of the order of sampling sites. Normally these functions only
need simple random permutation of sites, but restricted
permutation of the <span class="pkg">permute</span> package and user-supplied
permutation matrices can be used.
</p>
</li>
<li> <p><code>estaccumR</code> function can use parallel processing.
</p>
</li>
<li> <p><code>linestack</code> accepts now expressions as labels. This
allows using mathematical symbols and formula given as
mathematical expressions.
</p>
</li></ul>

 


<h3>Changes in version 2.2-0</h3>



<h4>GENERAL</h4>


<ul>
<li><p> Several <span class="pkg">vegan</span> functions can now use parallel
processing for slow and repeating calculations. All these
functions have argument <code>parallel</code>. The argument can be an
integer giving the number of parallel processes. In unix-alikes
(Mac OS, Linux) this will launch <code>"multicore"</code> processing
and in Windows it will set up <code>"snow"</code> clusters as desribed
in the documentation of the <span class="pkg">parallel</span> package. If <code>option</code>
<code>"mc.cores"</code> is set to an integer &gt; 1, this will be used to
automatically start parallel processing. Finally, the argument
can also be a previously set up <code>"snow"</code> cluster which will
be used both in Windows and in unix-alikes. <span class="pkg">Vegan</span> vignette
on Design decision explains the implementation (use
<code>vegandocs("decission")</code>, and <span class="pkg">parallel</span> package has more
extensive documentation on parallel processing in <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span>.
</p>
<p>The following function use parallel processing in analysing
permutation statistics: <code>adonis</code>, <code>anosim</code>,
<code>anova.cca</code> (and <code>permutest.cca</code>), <code>mantel</code> (and
<code>mantel.partial</code>), <code>mrpp</code>, <code>ordiareatest</code>,
<code>permutest.betadisper</code> and <code>simper</code>. In addition,
<code>bioenv</code> can compare several candidate sets of models in
paralle, <code>metaMDS</code> can launch several random starts in
parallel, and <code>oecosimu</code> can evaluate test statistics for
several null models in parallel.
</p>
</li>
<li><p> All permutation tests are based on the <a href="https://CRAN.R-project.org/package=permute"><span class="pkg">permute</span></a> package
which offers strong tools for restricted permutation. All these
functions have argument <code>permutations</code>. The default usage of
simple non-restricted permutations is achieved by giving a single
integer number. Restricted permutations can be defined using the
<code>how</code> function of the <span class="pkg">permute</span> package. Finally, the
argument can be a permutation matrix where rows define
permutations. It is possible to use external or user constructed
permutations.
</p>
<p>See <code>help(permutations)</code> for a brief introduction on
permutations in <span class="pkg">vegan</span>, and <span class="pkg">permute</span> package for the
full documention. The vignette of the <span class="pkg">permute</span> package can
be read from <span class="pkg">vegan</span> with command
<code>vegandocs("permutations")</code>.
</p>
<p>The following functions use the <a href="https://CRAN.R-project.org/package=permute"><span class="pkg">permute</span></a> package:
<code>CCorA</code>, <code>adonis</code>, <code>anosim</code>, <code>anova.cca</code> (plus
associated <code>permutest.cca</code>, <code>add1.cca</code>,
<code>drop1.cca</code>, <code>ordistep</code>, <code>ordiR2step</code>),
<code>envfit</code> (plus associated <code>factorfit</code> and
<code>vectorfit</code>), <code>mantel</code> (and <code>mantel.partial</code>),
<code>mrpp</code>, <code>mso</code>, <code>ordiareatest</code>,
<code>permutest.betadisper</code>, <code>protest</code> and <code>simper</code>.
</p>
</li>
<li><p> Community null model generation has been completely
redesigned and rewritten. The communities are constructed with
new <code>nullmodel</code> function and defined in a low level
<code>commsim</code> function. The actual null models are generated
with a <code>simulate</code> function that builds an array of null
models. The new null models include a wide array of quantitative
models in addition to the old binary models, and users can plug
in their own generating functions. The basic tool invoking and
analysing null models is <code>oecosimu</code>. The null models are
often used only for the analysis of nestedness, but the
implementation in <code>oecosimu</code> allows analysing any
statistic, and null models are better seen as an alternative to
permutation tests.
</p>
</li></ul>
 
 


<h4>INSTALLATION</h4>


<ul>
<li> <p><span class="pkg">vegan</span> package dependencies and namespace imports
were adapted to changes in <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span>, and no more trigger warnings and
notes in package tests.
</p>
</li>
<li><p> Three-dimensional ordination graphics using
<a href="https://CRAN.R-project.org/package=scatterplot3d"><span class="pkg">scatterplot3d</span></a> for static plots and <a href="https://CRAN.R-project.org/package=rgl"><span class="pkg">rgl</span></a> for dynamic
plots were removed from <span class="pkg">vegan</span> and moved to a companion
package <a href="https://CRAN.R-project.org/package=vegan3d"><span class="pkg">vegan3d</span></a>. The package is available in CRAN.
</p>
</li></ul>
 
 


<h4>NEW FUNCTIONS</h4>


<ul>
<li><p> Function <code>dispweight</code> implements dispersion weighting
of Clarke et al. (<em>Marine Ecology Progress Series</em>, 320,
11&ndash;27).  In addition, we implemented a new method for
generalized dispersion weighting <code>gdispweight</code>. Both
methods downweight species that are significantly
over-dispersed.
</p>
</li>
<li><p> New <code>hclust</code> support functions <code>reorder</code>,
<code>rev</code> and <code>scores</code>. Functions <code>reorder</code> and
<code>rev</code> are similar as these functions for <code>dendrogram</code>
objects in base <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span>. However, <code>reorder</code> can use (and defaults
to) weighted mean. In weighted mean the node average is always the
mean of member leaves, whereas the <code>dendrogram</code> uses always
unweighted means of joined branches.
</p>
</li>
<li><p> Function <code>ordiareatest</code> supplements <code>ordihull</code> and
<code>ordiellipse</code> and provides a randomization test for the
one-sided alternative hypothesis that convex hulls or ellipses in
two-dimensional ordination space have smaller areas than with
randomized groups.
</p>
</li>
<li><p> Function <code>permustats</code> extracts and inspects permutation
results with support functions <code>summary</code>, <code>density</code>,
<code>densityplot</code>, <code>qqnorm</code> and <code>qqmath</code>. The
<code>density</code> and <code>qqnorm</code> are standard <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> tools that only
work with one statistic, and <code>densityplot</code> and <code>qqmath</code>
are <span class="pkg">lattice</span> graphics that work with univariate and
multivariate statistics. The results of following functions can be
extracted: <code>anosim</code>, <code>adonis</code>, <code>mantel</code> (and
<code>mantel.partial</code>), <code>mrpp</code>, <code>oecosimu</code>,
<code>permustest.cca</code> (but not the corresponding <code>anova</code>
methods), <code>permutest.betadisper</code>, and <code>protest</code>.
</p>
</li>
<li> <p><code>stressplot</code> functions display the ordination distances
at given number of dimensions against original distances.  The
method functins are similar to <code>stressplot</code> for
<code>metaMDS</code>, and always use the inherent distances of each
ordination method. The functions are available for the results
<code>capscale</code>, <code>cca</code>, <code>princomp</code>, <code>prcomp</code>,
<code>rda</code>, and <code>wcmdscale</code>.
</p>
</li></ul>
 
 


<h4>BUG FIXES</h4>


<ul>
<li> <p><code>cascadeKM</code> of only one group will be <code>NA</code> instead
of a random value. 
</p>
</li>
<li> <p><code>ordiellipse</code> can handle points exactly on a line,
including only two points (with a warning).
</p>
</li>
<li><p> plotting <code>radfit</code> results for several species failed if
any of the communities had no species or had only one species.
</p>
</li>
<li> <p><code>RsquareAdj</code> for <code>capscale</code> with negative
eigenvalues will now report <code>NA</code> instead of using biased
method of <code>rda</code> results.
</p>
</li>
<li> <p><code>simper</code> failed when a group had only a single member.
</p>
</li></ul>

 


<h4>NEW FEATURES</h4>


<ul>
<li> <p><code>anova.cca</code> functions were re-written to use the
<span class="pkg">permute</span> package. Old results may not be exactly
reproduced, and models with missing data may fail in several
cases. There is a new option of analysing a sequence of models
against each other.
</p>
</li>
<li> <p><code>simulate</code> functions for <code>cca</code> and <code>rda</code>
can return several simulations in a <code>nullmodel</code> compatible
object. The functions can produce simulations with correlated
errors (also for <code>capscale</code>) in parametric simulation with
Gaussian error.
</p>
</li>
<li> <p><code>bioenv</code> can use Manhattan, Gower and Mahalanobis
distances in addition to the default Euclidean. New helper
function <code>bioenvdist</code> can extract the dissimilarities
applied in best model or any other model.
</p>
</li>
<li> <p><code>metaMDS(..., trace = 2)</code> will show convergence
information with the default <code>monoMDS</code> engine.
</p>
</li>
<li><p> Function <code>MDSrotate</code> can rotate a <i>k</i>-dimensional
ordination to <i>k-1</i> variables. When these variables are
correlated (like usually is the case), the vectors can also be
correlated to previously rotated dimensions, but will be
uncorrelated to all later ones.
</p>
</li>
<li> <p><span class="pkg">vegan</span> 2.0-10 changed the weighted <code>nestednodf</code>
so that weighted analysis of binary data was equivalent to
binary analysis. However, this broke the equivalence to the
original method. Now the function has an argument <code>wbinary</code>
to select the method of analysis. The problem was reported and a
fix submitted by Vanderlei Debastiani (Universidade Federal do
Rio Grande do Sul, Brasil).
</p>
</li>
<li> <p><code>ordiellipse</code>, <code>ordihull</code> and <code>ordiellipse</code>
can handle missing values in <code>groups</code>.
</p>
</li>
<li> <p><code>ordispider</code> can now use spatial medians instead of
means. 
</p>
</li>
<li> <p><code>rankindex</code> can use Manhattan, Gower and Mahalanobis
distance in addition to the default Euclidean.
</p>
</li>
<li><p> User can set colours and line types in function
<code>rarecurve</code> for plotting rarefaction curves.
</p>
</li>
<li> <p><code>spantree</code> gained a support function <code>as.hclust</code>
to change the minimum spanning tree into an <code>hclust</code> tree.
</p>
</li>
<li> <p><code>fitspecaccum</code> can do weighted analysis. Gained
<code>lines</code> method.
</p>
</li>
<li><p> Functions for extrapolated number of species or for the size
of species pool using Chao method were modified following Chiu et
al., <em>Biometrics</em> 70, 671&ndash;682 (2014).
</p>
<p>Incidence based <code>specpool</code> can now use (and defaults to)
small sample correction with number of sites as the sample
size. Function uses basic Chao extrapolation based on the ratio of
singletons and doubletons, but switches now to bias corrected Chao
extrapolation if there are no doubletons (species found
twice). The variance formula for bias corrected Chao was derived
following the supporting on line material of
doi: <a href="https://doi.org/10.1111/biom.12200">10.1111/biom.12200</a>
and differs slightly from Chiu et al. (2014).
</p>
<p>The <code>poolaccum</code> function was changed similarly, but the small
sample correction is used always.
</p>
<p>The abundance based <code>estimateR</code> uses bias corrected Chao
extrapolation, but earlier it estimated its variance with classic
Chao model. Now we use the widespread
<a href="https://viceroy.eeb.uconn.edu/EstimateS/EstimateSPages/EstSUsersGuide/EstimateSUsersGuide.htm#AppendixB">approximate
equation</a> for variance.
</p>
<p>With these changes these functions are more similar to
<a href="https://viceroy.eeb.uconn.edu/EstimateS/EstimateSPages/EstSUsersGuide/EstimateSUsersGuide.htm#AppendixB">EstimateS</a>.
</p>
</li>
<li> <p><code>tabasco</code> uses now <code>reorder.hclust</code> for
<code>hclust</code> object for better ordering than previously when it
cast trees to <code>dendrogram</code> objects.
</p>
</li>
<li> <p><code>treedive</code> and <code>treedist</code> default now to
<code>match.force = TRUE</code> and can be silenced with
<code>verbose = FALSE</code>.
</p>
</li>
<li> <p><code>vegdist</code> gained Mahalanobis distance.
</p>
</li>
<li><p> Nomenclature updated in plant community data with the help
of <span class="pkg">Taxonstand</span> and <span class="pkg">taxize</span> packages. The taxonomy of
the <code>dune</code> data was adapted to the same sources and APG
III.  <code>varespec</code> and <code>dune</code> use 8-character names (4
from genus + 4 from species epithet). New data set on
phylogenetic distances for <code>dune</code> was extracted from Zanne
et al. (<em>Nature</em> 506, 89&ndash;92; 2014).
</p>
</li>
<li><p> User configurable plots for <code>rarecurve</code>.
</p>
</li></ul>
 
 


<h4>DEPRECATED AND DEFUNCT</h4>


<ul>
<li> <p><code>strata</code> are deprecated in permutations. It is still
accepted but will be phased out in next releases. Use <code>how</code>
of <span class="pkg">permute</span> package.
</p>
</li>
<li> <p><code>cca</code>, <code>rda</code> and <code>capscale</code> do not return
scores scaled by eigenvalues: use <code>scores</code> function to
extract scaled results.
</p>
</li>
<li> <p><code>commsimulator</code> is deprecated. Replace
<code>commsimulator(x, method)</code> with
<code>simulate(nullmodel(x, method))</code>.
</p>
</li>
<li> <p><code>density</code> and <code>densityplot</code> for permutation
results are deprecated: use <code>permustats</code> with its
<code>density</code> and <code>densityplot</code> method.
</p>
</li></ul>
 
 


<h3>Changes in version 2.0-10</h3>



<h4>GENERAL</h4>


<ul>
<li><p> This version is adapted to the changes in <span class="pkg">permute</span>
package version 0.8-0 and no more triggers NOTEs in package
checks.  This release may be the last of the 2.0 series, and the
next <span class="pkg">vegan</span> release is scheduled to be a major release with
newly designed <code>oecosimu</code> and community pattern simulation,
support for parallel processing, and full support of the
<span class="pkg">permute</span> package. If you are interested in these
developments, you may try the development versions of
<span class="pkg">vegan</span> in
<a href="https://github.com/jarioksa/vegan">GitHub</a> and report the
problems and user experience to us.  </p>
</li></ul>
   


<h4>BUG FIXES</h4>


<ul>
<li> <p><code>envfit</code> function assumed that all external variables
were either numeric or factors, and failed if they were, say,
character strings. Now only numeric variables are taken as
continuous vectors, and all other variables (character strings,
logical) are coerced to factors if possible. The function also
should work with degenerate data, like only one level of a
factor or a constant value of a continuous environmental
variable. The ties were wrongly in assessing permutation
<i>P</i>-values in <code>vectorfit</code>.
</p>
</li>
<li> <p><code>nestednodf</code> with quantitative data was not
consistent with binary models, and the fill was wrongly
calculated with quantitative data.
</p>
</li>
<li> <p><code>oecosimu</code> now correctly adapts displayed quantiles
of simulated values to the <code>alternative</code> test direction.
</p>
</li>
<li> <p><code>renyiaccum</code> plotting failed if only one level of
diversity <code>scale</code> was used.
</p>
</li></ul>

 


<h4>NEW FEATURES</h4>

 
 
<ul>
<li><p> The Kempton and Taylor algorithm was found unreliable in
<code>fisherfit</code> and <code>fisher.alpha</code>, and now the estimation
of Fisher <i>alpha</i> is only based on the number of
species and the number of individuals.  The estimation of
standard errors and profile confidence intervals also had to be
scrapped.
</p>
</li>
<li> <p><code>renyiaccum</code>, <code>specaccum</code> and
<code>tsallisaccum</code> functions gained <code>subset</code> argument.
</p>
</li>
<li> <p><code>renyiaccum</code> can now add a <code>collector</code> curve to
to the analysis. The collector curve is the diversity
accumulation in the order of the sampling units. With an
interesting ordering or sampling units this allows comparing
actual species accumulations with the expected randomized
accumulation.
</p>
</li>
<li> <p><code>specaccum</code> can now perform weighted accumulation
using the sampling effort as weights.
</p>
</li></ul>

 


<h3>Changes in version 2.0-9</h3>


<ul>
<li><p> This version is released due to changes in programming
interface and testing procedures in <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> 3.0.2. If you are using an
older version of <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span>, there is no need to upgrade <span class="pkg">vegan</span>. There
are no new features nor bug fixes. The only user-visible changes
are in documentation and in output messages and formatting. Because
of <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> changes, this version is dependent on <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> version 2.14.0
or newer and on <span class="pkg">lattice</span> package.
</p>
</li></ul>



<h3>Changes in version 2.0-8</h3>



<h4>GENERAL</h4>


<ul>
<li><p> This is a maintenance release that fixes some issues
raised by changed in <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> toolset for processing vignettes.  In
the same we also fix some typographic issues in the vignettes.
</p>
</li></ul>

 


<h4>NEW FEATURES</h4>


<ul>
<li> <p><code>ordisurf</code> gained new arguments for more flexible
definition of fitted models to better utilize the
<span class="pkg">mgcv</span><code>::gam</code> function. 
</p>
<p>The linewidth of contours can
now be set with the argument <code>lwd</code>.
</p>
</li>
<li><p> Labels to arrows are positioned in a better way in
<code>plot</code> functions for the results of <code>envfit</code>,
<code>cca</code>, <code>rda</code> and <code>capscale</code>. The labels should no
longer overlap the arrow tips.
</p>
</li>
<li><p> The setting test direction is clearer in <code>oecosimu</code>.
</p>
</li>
<li> <p><code>ordipointlabel</code> gained a <code>plot</code> method that can
be used to replot the saved result.
</p>
</li></ul>

 


<h3>Changes in version 2.0-7</h3>



<h4>NEW FUNCTIONS</h4>


<ul>
<li> <p><code>tabasco()</code> is a new function for graphical display
of community data matrix.  Technically it is an interface to <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span>
<code>heatmap</code>, but its use is closer to <span class="pkg">vegan</span> function
<code>vegemite</code>. The function can reorder the community data
matrix similarly as <code>vegemite</code>, for instance, by ordination
results. Unlike <code>heatmap</code>, it only displays dendrograms if
supplied by the user, and it defaults to re-order the
dendrograms by correspondence analysis.  Species are ordered to
match site ordering or like determined by the user.
</p>
</li></ul>

 


<h4>BUG FIXES</h4>


<ul>
<li><p> Function <code>fitspecaccum(..., model = "asymp")</code> fitted
logistic model instead of asymptotic model (or the same as 
<code>model = "logis"</code>).
</p>
</li>
<li> <p><code>nestedtemp()</code> failed with very sparse data (fill
<i>&lt; 0.38</i>%).
</p>
</li></ul>

 


<h4>NEW FEATURES</h4>


<ul>
<li><p> The <code>plot</code> function for constrained ordination
results (<code>cca</code>, <code>rda</code>, <code>capscale</code>) gained
argument <code>axis.bp</code> (defaults <code>TRUE</code>) which can be used
to suppress axis scale for biplot arrays.
</p>
</li>
<li><p> Number of iterations in nonmetric multidimensional scaling
(NMDS) can be set with keyword <code>maxit</code> (defaults
<code>200</code>) in <code>metaMDS</code>.
</p>
</li></ul>

 


<h4>DEPRECATED</h4>


<ul>
<li><p> The result objects of <code>cca</code>, <code>rda</code> and
<code>capscale</code> will no longer have scores <code>u.eig</code>,
<code>v.eig</code> and <code>wa.eig</code> in the future versions of
<span class="pkg">vegan</span>. This change does not influence normal usage,
because <span class="pkg">vegan</span> functions do not need these items.  However,
external scripts and packages may need changes in the future
versions of <span class="pkg">vegan</span>.
</p>
</li></ul>
   
 


<h3>Changes in version 2.0-6</h3>



<h4>BUG FIXES</h4>


<ul>
<li><p> The species scores were scaled wrongly in
<code>capscale()</code>. They were scaled correctly only when Euclidean
distances were used, but usually <code>capscale()</code> is used with
non-Euclidean distances.  Most graphics will change and should be
redone.  The change of scaling mainly influences the spread of
species scores with respect to the site scores.
</p>
</li>
<li><p> Function <code>clamtest()</code> failed to set the minimum
abundance threshold in some cases. In addition, the output was
wrong when some of the possible species groups were missing. Both
problems were reported by Richard Telford (Bergen, Norway).
</p>
</li>
<li><p> Plotting an object fitted by <code>envfit()</code> would fail if
<code>p.max</code> was used and there were unused levels for one or
more factors. The unused levels could result from deletion of
observations with missing values or simply as the result of
supplying a subset of a larger data set to <code>envfit()</code>.
</p>
</li>
<li> <p><code>multipart()</code> printed wrong information about the
analysis type (but did the analysis correctly). Reported by
Valerie Coudrain.
</p>
</li>
<li> <p><code>oecosimu()</code> failed if its <code>nestedfun</code> returned a
data frame. A more fundamental fix will be in <span class="pkg">vegan</span> 2.2-0,
where the structure of the <code>oecosimu()</code> result will change.
</p>
</li>
<li><p> The plot of two-dimensional <code>procrustes()</code> solutions
often draw original axes in a wrong angle. The problem was
reported by Elizabeth Ottesen (MIT).
</p>
</li>
<li><p> Function <code>treedive()</code> for functional or phylogenetic
diversity did not correctly match the species names between the
community data and species tree when the tree contained species
that did not occur in the data.  Related function
<code>treedist()</code> for phylogenetic distances did not try to match
the names at all.
</p>
</li></ul>

 


<h4>NEW FEATURES</h4>


<ul>
<li><p> The output of <code>capscale()</code> displays the value of the
additive constant when argument <code>add = TRUE</code> was used.
</p>
</li>
<li> <p><code>fitted()</code> functions for <code>cca()</code>, <code>rda()</code> and
<code>capscale()</code> can now return conditioned (partial) component
of the response: Argument <code>model</code> gained a new alternative
<code>model = "pCCA"</code>. 
</p>
</li>
<li> <p><code>dispindmorisita()</code> output gained a new column for
Chi-squared based probabilities that the null hypothesis (random
distribution) is true.
</p>
</li>
<li> <p><code>metaMDS()</code> and <code>monoMDS()</code> have new default
convergence criteria. Most importantly, scale factor of the
gradient (<code>sfgrmin</code>) is stricter. The former limit was too
slack with large data sets and iterations stopped early without
getting close to the solution. In addition, <code>scores()</code>
ignore now requests to dimensions beyond those calculated
instead of failing, and <code>scores()</code> for <code>metaMDS()</code>
results do not drop dimensions.
</p>
</li>
<li> <p><code>msoplot()</code> gained <code>legend</code> argument for
positioning the legend.
</p>
</li>
<li><p> Nestedness function <code>nestednodf()</code> gained a <code>plot</code>
method.
</p>
</li>
<li> <p><code>ordiR2step()</code> gained new argument <code>R2scope</code>
(defaults <code>TRUE</code>) which can be used to turn off the criterion
of stopping when the adjusted <i>R-squared</i> of the current
model exceeds that of the scope.  This option allows model
building when the <code>scope</code> would be overdetermined (number of
predictors higher than number of observations).
</p>
<p><code>ordiR2step()</code> now handles partial redundancy analysis
(pRDA).
</p>
</li>
<li> <p><code>orditorp()</code> gained argument <code>select</code> to select
the rows or columns of the results to display.
</p>
</li>
<li> <p><code>protest()</code> prints the standardized residual statistic
<i>squared m12</i> in addition to the squared Procrustes
correlation <i>R-squared</i>.  Both were calculated, but only
the latter was displayed.
</p>
<p>Permutation tests are much faster in <code>protest()</code>. Instead
of calling repeatedly <code>procrustes()</code>, the goodness of fit
statistic is evaluated within the function. 
</p>
</li>
<li> <p><code>wcmdscale()</code> gained methods for <code>print</code>,
<code>plot</code> etc. of the results. These methods are only used if
the full <code>wcmdscale</code> result is returned with, e.g., argument
<code>eig = TRUE</code>. The default is still to return only a matrix of
scores similarly as the standard <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> function <code>cmdscale()</code>,
and in that case the new methods are not used.
</p>
</li></ul>

 


<h3>Changes in version 2.0-5</h3>



<h4>BUG FIXES</h4>


<ul>
<li> <p><code>anova(&lt;cca_object&gt;, ...)</code> failed with
<code>by = "axis"</code> and <code>by = "term"</code>. The bug was reported by
Dr Sven Neulinger (Christian Albrecht University, Kiel, Germany).
</p>
</li>
<li> <p><code>radlattice</code> did not honour argument <code>BIC = TRUE</code>,
but always displayed AIC.
</p>
</li></ul>

 


<h4>NEW FUNCTIONS</h4>


<ul>
<li><p> Most <span class="pkg">vegan</span> functions with permutation tests have now a
<code>density</code> method that can be used to find empirical
probability distributions of permutations. There is a new
<code>plot</code> method for these functions that displays both the
density and the observed statistic. The <code>density</code> function is
available for <code>adonis</code>, <code>anosim</code>, <code>mantel</code>,
<code>mantel.partial</code>, <code>mrpp</code>, <code>permutest.cca</code> and
<code>procrustes</code>.
</p>
<p>Function <code>adonis</code> can return several statistics, and it has
now a <code>densityplot</code> method (based on <span class="pkg">lattice</span>).
</p>
<p>Function <code>oecosimu</code> already had <code>density</code> and
<code>densityplot</code>, but they are now similar to other <span class="pkg">vegan</span>
methods, and also work with <code>adipart</code>, <code>hiersimu</code> and
<code>multipart</code>.
</p>
</li>
<li> <p><code>radfit</code> functions got a <code>predict</code> method that
also accepts arguments <code>newdata</code> and <code>total</code> for new
ranks and site totals for prediction.  The functions can also
interpolate to non-integer &ldquo;ranks&rdquo;, and in some models
also extrapolate.
</p>
</li></ul>

 


<h4>NEW FEATURES</h4>


<ul>
<li><p> Labels can now be set in the <code>plot</code> of <code>envfit</code>
results. The labels must be given in the same order that the
function uses internally, and new support function <code>labels</code>
can be used to display the default labels in their correct order.
</p>
</li>
<li><p> Mantel tests (functions <code>mantel</code> and
<code>mantel.partial</code>) gained argument <code>na.rm</code> which can be
used to remove missing values. This options should be used with
care: Permutation tests can be biased if the missing values were
originally in matching or fixed positions.
</p>
</li>
<li> <p><code>radfit</code> results can be consistently accessed with
the same methods whether they were a single model for a single
site, all models for a single site or all models for all sites
in the data.  All functions now have methods <code>AIC</code>,
<code>coef</code>, <code>deviance</code>, <code>logLik</code>, <code>fitted</code>,
<code>predict</code> and <code>residuals</code>.
</p>
</li></ul>

 


<h4>INSTALLATION AND BUILDING</h4>


<ul>
<li><p> Building of <span class="pkg">vegan</span> vignettes failed with the latest
version of LaTeX (TeXLive 2012).
</p>
</li>
<li> <p><span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> versions later than 2.15-1 (including development
version) report warnings and errors when installing and checking
<span class="pkg">vegan</span>, and you must upgrade <span class="pkg">vegan</span> to this version.
The warnings concern functions <code>cIndexKM</code> and
<code>betadisper</code>, and the error occurs in <code>betadisper</code>.
These errors and warnings were triggered by internal changes in
<span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span>.
</p>
</li></ul>

 


<h3>Changes in version 2.0-4</h3>



<h4>BUG FIXES</h4>


<ul>
<li> <p><code>adipart</code> assumed constant gamma diversity in
simulations when assessing the <i>P</i>-value.  This could give
biased results if the null model produces variable gamma
diversities and option <code>weights = "prop"</code> is used.  The
default null model (<code>"r2dtable"</code>) and the default option
(<code>weights = "unif"</code>) were analysed correctly.
</p>
</li>
<li> <p><code>anova(&lt;prc-object&gt;, by = "axis")</code> and other
<code>by</code> cases failed due to &lsquo;<span class="file">NAMESPACE</span>&rsquo; issues.
</p>
</li>
<li> <p><code>clamtest</code> wrongly used frequencies instead of the
counts when calculating sample coverage.  No detectable
differences were produced when rerunning examples from Chazdon
et al. 2011 and <span class="pkg">vegan</span> help page.
</p>
</li>
<li> <p><code>envfit</code> failed with unused factor levels.
</p>
</li>
<li> <p><code>predict</code> for <code>cca</code> results with
<code>type = "response"</code> or <code>type = "working"</code> failed with
<code>newdata</code> if the number of rows did not match with the
original data.  Now the <code>newdata</code> is ignored if it has a
wrong number of rows.  The number of rows must match because
the results in <code>cca</code> must be weighted by original row
totals.  The problem did not concern <code>rda</code> or
<code>capscale</code> results which do not need row weights.
Reported by Glenn De'ath.
</p>
</li></ul>




<h4>NEW FEATURES</h4>


<ul>
<li><p> Functions for diversity partitioning (<code>adipart</code>,
<code>hiersimu</code> and <code>multipart</code>) have now <code>formula</code>
and <code>default</code> methods.  The <code>formula</code> method is
identical to the previous functions, but the <code>default</code>
method can take two matrices as input. 
</p>
<p>Functions <code>adipart</code> and <code>multipart</code> can be used for
fast and easy overall partitioning to alpha, beta and gamma
diversities by omitting the argument describing the hierarchy.
</p>
</li>
<li><p> The method in <code>betadisper</code> is biased with small
sample sizes.  The effects of the bias are strongest with
unequal sample sizes. A bias adjusted version was developed by
Adrian Stier and Ben Bolker, and can be invoked with argument
<code>bias.adjust</code> (defaults to <code>FALSE</code>).
</p>
</li>
<li> <p><code>bioenv</code> accepts dissimilarities (or square matrices
that can be interpreted as dissimilarities) as an alternative to
community data.  This allows using other dissimilarities than
those available in <code>vegdist</code>.
</p>
</li>
<li> <p><code>plot</code> function for <code>envfit</code> results gained new
argument <code>bg</code> that can be used to set background colour for
plotted labels.
</p>
</li>
<li> <p><code>msoplot</code> is more configurable, and allows, for
instance, setting y-axis limits.
</p>
</li>
<li><p> Hulls and ellipses are now filled using semitransparent
colours in <code>ordihull</code> and <code>ordiellipse</code>, and the
user can set the degree of transparency with a new argument
<code>alpha</code>.  The filled shapes are used when these functions
are called with argument <code>draw = "polygon"</code>.  Function
<code>ordihull</code> puts labels (with argument <code>label = TRUE</code>)
now in the real polygon centre.
</p>
</li>
<li> <p><code>ordiplot3d</code> returns function <code>envfit.convert</code>
and the projected location of the <code>origin</code>.  Together
these can be used to add <code>envfit</code> results to existing
<code>ordiplot3d</code> plots.
</p>
<p>Equal aspect ratio cannot be set exactly in <code>ordiplot3d</code>
because underlying core routines do not allow this. Now
<code>ordiplot3d</code> sets equal axis ranges, and the documents
urge users to verify that the aspect ratio is reasonably equal
and the graph looks like a cube.  If the problems cannot be
solved in the future, <code>ordiplot3d</code> may be removed from
next releases of <span class="pkg">vegan</span>.
</p>
</li>
<li><p> Function <code>ordipointlabel</code> gained argument to
<code>select</code> only some of the items for plotting. The
argument can be used only with one set of points.
</p>
</li></ul>

 


<h3>Changes in version 2.0-3</h3>



<h4>NEW FUNCTIONS</h4>


<ul>
<li><p> Added new nestedness functions <code>nestedbetasor</code> and
<code>nestedbetajac</code> that implement multiple-site dissimilarity
indices and their decomposition into turnover and nestedness
components following Baselga (<em>Global Ecology and
Biogeography</em> 19, 134&ndash;143; 2010).
</p>
</li>
<li><p> Added function <code>rarecurve</code> to draw rarefaction curves
for each row (sampling unit) of the input data, optionally with
lines showing rarefied species richness with given sample size
for each curve.
</p>
</li>
<li><p> Added function <code>simper</code> that implements
&ldquo;similarity percentages&rdquo; of Clarke (<em>Australian
Journal of Ecology</em> 18, 117&ndash;143; 1993).  The method compares
two or more groups and decomposes the average between-group
Bray-Curtis dissimilarity index to contributions by individual
species.  The code was developed in 
<a href="https://github.com/jarioksa/vegan">GitHub</a>
by Eduard Szöcs (Uni Landau, Germany).
</p>
</li></ul>

 


<h4>BUG FIXES</h4>


<ul>
<li> <p><code>betadisper()</code> failed when the <code>groups</code> was a
factor with empty levels.
</p>
</li>
<li><p> Some constrained ordination methods and their support
functions are more robust in border cases (completely aliased
effects, saturated models, user requests for non-existng scores
etc). Concerns <code>capscale</code>, <code>ordistep</code>, <code>varpart</code>,
<code>plot</code> function for constrained ordination, and
<code>anova(&lt;cca.object&gt;, by = "margin")</code>.
</p>
</li>
<li><p> The <code>scores</code> function for <code>monoMDS</code> did not
honour <code>choices</code> argument and hence dimensions could not be
chosen in <code>plot</code>.
</p>
</li>
<li><p> The default <code>scores</code> method failed if the number of
requested axes was higher than the ordination object had.  This
was reported as an error in <code>ordiplot</code> in
<a href="https://stat.ethz.ch/pipermail/r-sig-ecology/2012-February/002768.html">R-sig-ecology</a> mailing list.
</p>
</li></ul>

 


<h4>NEW FEATURES</h4>


<ul>
<li> <p><code>metaMDS</code> argument <code>noshare = 0</code> is now
regarded as a numeric threshold that always triggers extended
dissimilarities (<code>stepacross</code>), instead of being treated
as synonymous with <code>noshare = FALSE</code> which always
suppresses extended dissimilarities.
</p>
</li>
<li><p> Nestedness discrepancy index <code>nesteddisc</code> gained a
new argument that allows user to set the number of iterations
in optimizing the index.
</p>
</li>
<li> <p><code>oecosimu</code> displays the mean of simulations and
describes alternative hypothesis more clearly in the printed
output. 
</p>
</li>
<li><p> Implemented adjusted <i>R-squared</i> for partial
RDA. For partial model <code>rda(Y ~ X1 + Condition(X2))</code> this
is the same as the component <code>[a] = X1|X2</code> in variance
partition in <code>varpart</code> and describes the marginal (unique)
effect of constraining term to adjusted <i>R-squared</i>.
</p>
</li>
<li><p> Added Cao dissimilarity (CYd) as a new dissimilarity
method in <code>vegdist</code> following Cao et al., <em>Water
Envir Res</em> 69, 95&ndash;106 (1997). The index should be good for
data with high beta diversity and variable sampling
intensity. Thanks to consultation to Yong Cao (Univ Illinois,
USA).
</p>
</li></ul>

 


<h3>Changes in version 2.0-2</h3>



<h4>BUG FIXES</h4>


<ul>
<li><p> Function <code>capscale</code> failed if constrained component
had zero rank. This happened most likely in partial models when
the conditions aliased constraints. The problem was observed in
<code>anova(..., by ="margin")</code> which uses partial models to
analyses the marginal effects, and was reported in an email
message to
<a href="https://stat.ethz.ch/pipermail/r-help/2011-October/293077.html">R-News
mailing list</a>.
</p>
</li>
<li> <p><code>stressplot</code> and <code>goodness</code> sometimes failed when
<code>metaMDS</code> was based on <code>isoMDS</code> (<span class="pkg">MASS</span> package)
because <code>metaMDSdist</code> did not use the same defaults for
step-across (extended) dissimilarities as
<code>metaMDS(..., engine = "isoMDS")</code>. The change of defaults can
also influence triggering of step-across in
<code>capscale(..., metaMDSdist = TRUE)</code>.
</p>
</li>
<li> <p><code>adonis</code> contained a minor bug resulting from
incomplete implementation of a speed-up that did not affect the
results. In fixing this bug, a further bug was identified in
transposing the hat matrices. This second bug was only active
following fixing of the first bug. In fixing both bugs, a
speed-up in the internal f.test() function is fully
realised. Reported by Nicholas Lewin-Koh.
</p>
</li></ul>

  


<h4>NEW FEATURES</h4>


<ul>
<li> <p><code>ordiarrows</code> and <code>ordisegments</code> gained argument
<code>order.by</code> that gives a variable to sort points within
<code>groups</code>. Earlier the points were assumed to be in order.
</p>
</li>
<li><p> Function <code>ordispider</code> invisibly returns the
coordinates to which the points were connected.  Typically these
are class centroids of each point, but for constrained ordination
with no <code>groups</code> they are the LC scores.
</p>
</li></ul>
		 
  


<h3>Changes in version 2.0-1</h3>



<h4>NEW FUNCTIONS</h4>


<ul>
<li> <p><code>clamtest</code>: new function to classify species as
generalists and specialists in two distinct habitats (CLAM test of
Chazdon et al., <em>Ecology</em> 92, 1332&ndash;1343; 2011).  The test is
based on multinomial distribution of individuals in two habitat
types or sampling units, and it is applicable only to count data
with no over-dispersion.
</p>
</li>
<li> <p><code>as.preston</code> gained <code>plot</code> and <code>lines</code>
methods, and <code>as.fisher</code> gained <code>plot</code> method (which
also can add items to existing plots). These are similar as
<code>plot</code> and <code>lines</code> for <code>prestonfit</code> and
<code>fisherfit</code>, but display only data without the fitted lines.
</p>
</li>
<li> <p><code>raupcrick</code>: new function to implement Raup-Crick
dissimilarity as a probability of number of co-occurring species
with occurrence probabilities proportional to species
frequencies.  <span class="pkg">Vegan</span> has Raup-Crick index as a choice in
<code>vegdist</code>, but that uses equal sampling probabilities for
species and analytic equations. The new <code>raupcrick</code>
function uses simulation with <code>oecosimu</code>. The function
follows Chase et al. (2011) <em>Ecosphere</em> 2:art24
[doi: <a href="https://doi.org/10.1890/ES10-00117.1">10.1890/ES10-00117.1</a>],
and was developed with the consultation of Brian Inouye.
</p>
</li></ul>

 


<h4>BUG FIXES</h4>


<ul>
<li><p> Function <code>meandist</code> could scramble items and give
wrong results, especially when the <code>grouping</code> was
numerical. The problem was reported by Dr Miguel Alvarez
(Univ. Bonn).
</p>
</li>
<li> <p><code>metaMDS</code> did not reset <code>tries</code> when a new model
was started with a <code>previous.best</code> solution from a different
model. 
</p>
</li>
<li><p> Function <code>permatswap</code> for community null models using
quantitative swap never swapped items in a <i>2 by 2</i>
submatrix if all cells were filled.
</p>
</li>
<li><p> The result from <code>permutest.cca</code> could not be
<code>update</code>d because of a &lsquo;<span class="file">NAMESPACE</span>&rsquo; issue.
</p>
</li>
<li> <p><span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> 2.14.0 changed so that it does not accept using
<code>sd()</code> function for matrices (which was the behaviour at
least since <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> 1.0-0), and several <span class="pkg">vegan</span> functions were
changed to adapt to this change (<code>rda</code>, <code>capscale</code>,
<code>simulate</code> methods for <code>rda</code>, <code>cca</code> and
<code>capscale</code>). The change in <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> 2.14.0 does not influence the
results but you probably wish to upgrade <span class="pkg">vegan</span> to avoid
annoying warnings.
</p>
</li></ul>
	
 


<h4>ANALYSES</h4>


<ul>
<li> <p><code>nesteddisc</code> is slacker and hence faster when trying
to optimize the statistic for tied column frequencies. Tracing
showed that in most cases an improved ordering was found rather
early in tries, and the results are equally good in most cases.
</p>
</li></ul>

 


<h3>Changes in version 2.0-0</h3>



<h4>GENERAL</h4>


<ul>
<li><p> Peter Minchin joins the <span class="pkg">vegan</span> team.
</p>
</li>
<li> <p><span class="pkg">vegan</span> implements standard <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> &lsquo;<span class="file">NAMESPACE</span>&rsquo;. In
general, <code>S3</code> methods are not exported which means that you
cannot directly use or see contents of functions like
<code>cca.default</code>, <code>plot.cca</code> or <code>anova.ccabyterm</code>. To
use these functions you should rely on <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> delegation and simply
use <code>cca</code> and for its result objects use <code>plot</code> and
<code>anova</code> without suffix <code>.cca</code>. To see the contents of
the function you can use <code>:::</code>, such as
<code>vegan:::cca.default</code>. This change may break packages,
documents or scripts that rely on non-exported names.
</p>
</li>
<li> <p><span class="pkg">vegan</span> depends on the <span class="pkg">permute</span> package. This
package provides powerful tools for restricted permutation
schemes. All <span class="pkg">vegan</span> permutation will gradually move to use
<span class="pkg">permute</span>, but currently only <code>betadisper</code> uses the new
feature. 
</p>
</li></ul>

 


<h4>NEW FUNCTIONS</h4>


<ul>
<li> <p><code>monoMDS</code>: a new function for non-metric
multidimensional scaling (NMDS). This function replaces
<code>MASS::isoMDS</code> as the default method in
<code>metaMDS</code>. Major advantages of <code>monoMDS</code> are that it
has &lsquo;weak&rsquo; (&lsquo;primary&rsquo;) tie treatment which means
that it can split tied observed dissimilarities.  &lsquo;Weak&rsquo;
tie treatment improves ordination of heterogeneous data sets,
because maximum dissimilarities of <i>1</i> can be split. In
addition to global NMDS, <code>monoMDS</code> can perform local and
hybrid NMDS and metric MDS.  It can also handle missing and zero
dissimilarities.  Moreover, <code>monoMDS</code> is faster than
previous alternatives. The function uses <code>Fortran</code> code
written by Peter Minchin.
</p>
</li>
<li> <p><code>MDSrotate</code> a new function to replace
<code>metaMDSrotate</code>. This function can rotate both <code>metaMDS</code>
and <code>monoMDS</code> results so that the first axis is parallel to
an environmental vector.
</p>
</li>
<li> <p><code>eventstar</code> finds the minimum of the evenness profile
on the Tsallis entropy, and uses this to find the corresponding
values of diversity, evenness and numbers equivalent following
Mendes et al. (<em>Ecography</em> 31, 450-456; 2008). The code was
contributed by Eduardo Ribeira Cunha and Heloisa Beatriz Antoniazi
Evangelista and adapted to <span class="pkg">vegan</span> by Peter Solymos.
</p>
</li>
<li> <p><code>fitspecaccum</code> fits non-linear regression models to
the species accumulation results from <code>specaccum</code>. The
function can use new self-starting species accumulation models
in <span class="pkg">vegan</span> or other self-starting non-linear regression
models in <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span>. The function can fit Arrhenius, Gleason, Gitay,
Lomolino (in <span class="pkg">vegan</span>), asymptotic, Gompertz,
Michaelis-Menten, logistic and Weibull (in base <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span>) models. The
function has <code>plot</code> and <code>predict</code> methods.
</p>
</li>
<li><p> Self-starting non-linear species accumulation models
<code>SSarrhenius</code>, <code>SSgleason</code>, <code>SSgitay</code> and
<code>SSlomolino</code>. These can be used with <code>fitspecaccum</code> or
directly in non-linear regression with <code>nls</code>. These functions
were implemented because they were found good for species-area
models by Dengler (<em>J. Biogeogr.</em> 36, 728-744; 2009).
</p>
</li></ul>

 


<h4>NEW FEATURES</h4>


<ul>
<li> <p><code>adonis</code>, <code>anosim</code>, <code>meandist</code> and
<code>mrpp</code> warn on negative dissimilarities, and
<code>betadisper</code> refuses to analyse them. All these functions
expect dissimilarities, and giving something else (like
correlations) probably is a user error.
</p>
</li>
<li> <p><code>betadisper</code> uses restricted permutation of the
<span class="pkg">permute</span> package. 
</p>
</li>
<li> <p><code>metaMDS</code> uses <code>monoMDS</code> as its default ordination
engine. Function gains new argument <code>engine</code> that can be used
to alternatively select <code>MASS::isoMDS</code>.  The default is not
to use <code>stepacross</code> with <code>monoMDS</code> because its
&lsquo;weak&rsquo; tie treatment can cope with tied maximum
dissimilarities of one. However, <code>stepacross</code> is the default
with <code>isoMDS</code> because it cannot handle adequately these tied
maximum dissimilarities.
</p>
</li>
<li> <p><code>specaccum</code> gained <code>predict</code> method which uses
either linear or spline interpolation for data between observed
points. Extrapolation is possible with spline interpolation, but
may make little sense.
</p>
</li>
<li> <p><code>specpool</code> can handle missing values or empty factor
levels in the grouping factor <code>pool</code>.  Now also checks that
the length of the <code>pool</code> matches the number of
observations.
</p>
</li></ul>

 


<h4>DEPRECATED AND DEFUNCT</h4>


<ul>
<li> <p><code>metaMDSrotate</code> was replaced with <code>MDSrotate</code>
that can also handle the results of <code>monoMDS</code>.
</p>
</li>
<li> <p><code>permuted.index2</code> and other &ldquo;new&rdquo; permutation
code was removed in favour of the <span class="pkg">permute</span> package. This code
was not intended for normal use, but packages depending on that
code in <span class="pkg">vegan</span> should instead depend on <span class="pkg">permute</span>.
</p>
</li></ul>
  
 


<h4>ANALYSES</h4>


<ul>
<li> <p><code>treeheight</code> uses much snappier code. The results
should be unchanged.
</p>
</li></ul>

 


</div></body></html>
